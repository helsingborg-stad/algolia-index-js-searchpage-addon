var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});const HtmlEventFactory=__name(({searchAsYouType})=>({registerSearchBox:__name((element,callback)=>{if(searchAsYouType){element?.addEventListener("input",({target})=>callback({query:target.value}));return}element?.addEventListener("keydown",event=>{event.key==="Enter"&&callback({query:event.target?.value})}),element?.addEventListener("input",({target})=>{const value=target?.value;value===""&&callback({query:value})})},"registerSearchBox"),registerPagination:__name((element,callback)=>{[...element.querySelectorAll("a")].forEach(element2=>{element2.addEventListener("click",event=>{event.preventDefault();const target=event.currentTarget;callback(Number(target?.dataset?.value??"1")),window.scrollTo(0,0)})})},"registerPagination"),registerFacets:__name((element,callback)=>{if(!element)return;let isRenderingFacets=!1;window.setRenderingFacets=state=>{isRenderingFacets=state};const getFacetFilters=__name(()=>{const filters=new Map;return element.querySelectorAll("input[data-js-facet-filter]:checked").forEach(input=>{const attribute=input.dataset.facetAttribute||"",value=input.value;filters.has(attribute)||filters.set(attribute,[]),filters.get(attribute)?.push(`${attribute}:${value}`)}),Array.from(filters.values())},"getFacetFilters");let debounceTimer=null;const debounce=__name((fn,delay=200)=>{debounceTimer&&clearTimeout(debounceTimer),debounceTimer=setTimeout(fn,delay)},"debounce");element.addEventListener("change",event=>{if(isRenderingFacets)return;const target=event.target;event.isTrusted&&target instanceof HTMLInputElement&&target.dataset.jsFacetFilter!==void 0&&debounce(()=>callback(getFacetFilters()))})},"registerFacets")}),"HtmlEventFactory"),_FacetStorage=class _FacetStorage{storageKey;constructor(storageKey="selectedFacets"){this.storageKey=storageKey}saveFacets(facets){localStorage.setItem(this.storageKey,JSON.stringify(facets))}loadFacets(){return{}}clearFacets(){localStorage.removeItem(this.storageKey)}};__name(_FacetStorage,"FacetStorage");let FacetStorage=_FacetStorage;const PaginationFactory=__name(({totalPages,currentPage})=>({isLastPage:__name(()=>currentPage===totalPages,"isLastPage"),isFirstPage:__name(()=>currentPage===1,"isFirstPage"),getVisibleItems:__name((maxItems=4)=>{const pages=new Array(totalPages).fill(0).map((_,index)=>index+1),from=Math.max(Math.min(currentPage-2,pages.length-maxItems),0);return pages.splice(from,maxItems)},"getVisibleItems")}),"PaginationFactory"),getHtmlTemplates=__name(()=>["template[data-js-search-hit-template]","template[data-js-search-hit-noimage-template]","template[data-js-search-page-no-results]","template[data-js-search-page-stat]","template[data-js-search-page-pagination-item]","template[data-js-search-page-pagination-icon]","template[data-js-search-page-facet]","template[data-js-search-page-facet-item]"].map(selector=>document.querySelector(selector)?.innerHTML??""),"getHtmlTemplates"),getHtmlElements=__name(()=>["[data-js-search-page-search-input]","[data-js-search-page-hits]","[data-js-search-page-pagination]","[data-js-search-page-facets]","[data-js-search-page-stats]"].map(selector=>document.querySelector(selector)),"getHtmlElements"),HtmlRenderFactory=__name(params=>{const[templateHitHtml="",templateNoImgHtml="",templateNoResults="",templateStats="",templatePaginationItem="",templatePaginationIcon="",templateFacet="",templateFacetItem=""]=getHtmlTemplates(),[searchInput,searchContainer,searchPagination,searchFacets,statsContainer]=getHtmlElements(),safeSearchInput=searchInput||document.createElement("input"),safeSearchContainer=searchContainer||document.createElement("div"),safeSearchPagination=searchPagination||document.createElement("div"),safeSearchFacets=searchFacets||document.createElement("div"),safeStatsContainer=statsContainer||document.createElement("div"),[translateHit,translateNoResults,translateStats,translatePaginationItem,translatePaginationIcon,translateFacet,translateFacetItem]=[item=>(item.image?templateHitHtml:templateNoImgHtml).replaceAll("{SEARCH_JS_HIT_HEADING}",item.title).replaceAll("{SEARCH_JS_HIT_SUBHEADING}",item.subtitle).replaceAll("{SEARCH_JS_HIT_EXCERPT}",item.summary).replaceAll("{SEARCH_JS_HIT_IMAGE_URL}",item.image??"").replaceAll("{SEARCH_JS_HIT_IMAGE_ALT}",item.altText).replaceAll("{SEARCH_JS_HIT_LINK}",item.url),()=>templateNoResults,({totalHits,query})=>templateStats.replaceAll("{ALGOLIA_JS_STATS_COUNT}",String(totalHits)).replaceAll("{ALGOLIA_JS_STATS_QUERY}",query),(text,color,className)=>templatePaginationItem.replaceAll("{ALGOLIA_JS_PAGINATION_TEXT}",text).replaceAll("{ALGOLIA_JS_PAGINATION_HREF}","#").replaceAll("{ALGOLIA_JS_PAGINATION_COLOR}",color).replaceAll("{ALGOLIA_JS_PAGINATION_CLASS}",className).replaceAll("{ALGOLIA_JS_PAGINATION_PAGE_NUMBER}",text),(page,icon)=>templatePaginationIcon.replaceAll("{ALGOLIA_JS_PAGINATION_ICON}",icon).replaceAll("{ALGOLIA_JS_PAGINATION_HREF}","#").replaceAll("{ALGOLIA_JS_PAGINATION_PAGE_NUMBER}",page),(facet,itemsHtml)=>templateFacet.replaceAll("{ALGOLIA_JS_FACET_LABEL}",facet.label).replaceAll("{ALGOLIA_JS_FACET_ATTRIBUTE}",facet.attribute).replaceAll("{ALGOLIA_JS_FACET_ITEMS}",itemsHtml),(facet,value)=>templateFacetItem.replaceAll("{ALGOLIA_JS_FACET_VALUE}",value.value).replaceAll("{ALGOLIA_JS_FACET_COUNT}",String(value.count)).replaceAll("{ALGOLIA_JS_FACET_ATTRIBUTE}",facet.attribute)];safeSearchInput.value=params.query||"";const append=__name((parent,content)=>parent.insertAdjacentHTML("beforeend",content),"append");return{getInputField:__name(()=>safeSearchInput,"getInputField"),getPaginationContainer:__name(()=>safeSearchPagination,"getPaginationContainer"),getFacetsContainer:__name(()=>safeSearchFacets,"getFacetsContainer"),reset:__name(()=>{safeSearchContainer.innerHTML="",safeSearchPagination.innerHTML="",safeSearchFacets.innerHTML="",safeStatsContainer.innerHTML=""},"reset"),renderStats:__name(result=>{append(safeStatsContainer,translateStats(result))},"renderStats"),renderItems:__name(result=>{result.hits.length>0?result.hits.forEach(hit=>{append(safeSearchContainer,translateHit(hit))}):append(safeSearchContainer,translateNoResults())},"renderItems"),renderPagination:__name(result=>{const service=PaginationFactory(result);service.isFirstPage()||append(safeSearchPagination,translatePaginationIcon(String(result.currentPage-1),"keyboard_arrow_left")),service.getVisibleItems().forEach(id=>{const[color,className]=id===result.currentPage?["primary","c-pagination--is-active"]:["default",""];append(safeSearchPagination,translatePaginationItem(String(id),color,className))}),service.isLastPage()||append(safeSearchPagination,translatePaginationIcon(String(result.currentPage+1),"keyboard_arrow_right"))},"renderPagination"),renderFacets:__name((result,facetFilters)=>{const storage=new FacetStorage,storedFilters=storage.loadFacets();if(safeSearchFacets&&result.facets){const selectedFilters=Array.isArray(facetFilters)?facetFilters:Array.isArray(storedFilters)?storedFilters:Object.keys(storedFilters),selectedSet=new Set(selectedFilters.flat());result.facets.forEach(facet=>{const itemsHtml=facet.values.map(value=>{const filterStr=`${facet.attribute}:${value.value}`,checked=selectedSet.has(filterStr)?"checked":"";return translateFacetItem(facet,value).replace("<input ",`<input ${checked} data-filter="${filterStr}" `)}).join("");append(safeSearchFacets,translateFacet(facet,itemsHtml))}),safeSearchFacets.addEventListener("change",event=>{const target=event.target;if(target&&target.dataset.filter){const filter=target.dataset.filter;target.checked?selectedSet.add(filter):selectedSet.delete(filter);const facetsObject={};selectedSet.forEach(facet=>{facetsObject[facet]=!0}),storage.saveFacets(facetsObject)}});const notice=document.querySelector("div[data-js-search-page-facet-notice]");notice&&notice.setAttribute("aria-hidden",result.facets.length>0?"true":"false")}},"renderFacets")}},"HtmlRenderFactory"),setUrlSearchParam=__name(query=>{if(query){const url=new URL(window.location.toString());url.searchParams.has("s")?url.searchParams.set("s",query):url.searchParams.append("s",query),history.pushState({},"",url.toString())}},"setUrlSearchParam"),Runner=__name((binder,adapter,html)=>{let isRenderingFacets=!1;const facetsContainer=html.getFacetsContainer();facetsContainer&&binder.registerFacets(facetsContainer,facetFilters=>{isRenderingFacets||exec({...lastParams,page:1,facetFilters})});let lastParams={};const exec=__name(params=>{lastParams=params,adapter.search(params).then(result=>{setUrlSearchParam(params.query),html.reset(),html.renderStats(result),isRenderingFacets=!0,html.renderFacets(result,params.facetFilters),isRenderingFacets=!1,html.renderItems(result),html.renderPagination(result),binder.registerPagination(html.getPaginationContainer(),page=>{exec({...params,page})})})},"exec");return binder.registerSearchBox(html.getInputField(),params=>{exec({...params,facetFilters:params.facetFilters??lastParams.facetFilters})}),{exec}},"Runner");function m(){function r(t){return new Promise(s=>{let e=new XMLHttpRequest;e.open(t.method,t.url,!0),Object.keys(t.headers).forEach(n=>e.setRequestHeader(n,t.headers[n]));let i=__name((n,a)=>setTimeout(()=>{e.abort(),s({status:0,content:a,isTimedOut:!0})},n),"i"),u=i(t.connectTimeout,"Connection timeout"),o;e.onreadystatechange=()=>{e.readyState>e.OPENED&&o===void 0&&(clearTimeout(u),o=i(t.responseTimeout,"Socket timeout"))},e.onerror=()=>{e.status===0&&(clearTimeout(u),clearTimeout(o),s({content:e.responseText||"Network request failed",status:e.status,isTimedOut:!1}))},e.onload=()=>{clearTimeout(u),clearTimeout(o),s({content:e.responseText,status:e.status,isTimedOut:!1})},e.send(t.data)})}return __name(r,"r"),{send:r}}__name(m,"m");function createBrowserLocalStorageCache(options){let storage;const namespaceKey=`algolia-client-js-${options.key}`;function getStorage(){return storage===void 0&&(storage=options.localStorage||window.localStorage),storage}__name(getStorage,"getStorage");function getNamespace(){return JSON.parse(getStorage().getItem(namespaceKey)||"{}")}__name(getNamespace,"getNamespace");function setNamespace(namespace){getStorage().setItem(namespaceKey,JSON.stringify(namespace))}__name(setNamespace,"setNamespace");function removeOutdatedCacheItems(){const timeToLive=options.timeToLive?options.timeToLive*1e3:null,namespace=getNamespace(),filteredNamespaceWithoutOldFormattedCacheItems=Object.fromEntries(Object.entries(namespace).filter(([,cacheItem])=>cacheItem.timestamp!==void 0));if(setNamespace(filteredNamespaceWithoutOldFormattedCacheItems),!timeToLive)return;const filteredNamespaceWithoutExpiredItems=Object.fromEntries(Object.entries(filteredNamespaceWithoutOldFormattedCacheItems).filter(([,cacheItem])=>{const currentTimestamp=new Date().getTime();return!(cacheItem.timestamp+timeToLive<currentTimestamp)}));setNamespace(filteredNamespaceWithoutExpiredItems)}return __name(removeOutdatedCacheItems,"removeOutdatedCacheItems"),{get(key,defaultValue,events={miss:__name(()=>Promise.resolve(),"miss")}){return Promise.resolve().then(()=>(removeOutdatedCacheItems(),getNamespace()[JSON.stringify(key)])).then(value=>Promise.all([value?value.value:defaultValue(),value!==void 0])).then(([value,exists])=>Promise.all([value,exists||events.miss(value)])).then(([value])=>value)},set(key,value){return Promise.resolve().then(()=>{const namespace=getNamespace();return namespace[JSON.stringify(key)]={timestamp:new Date().getTime(),value},getStorage().setItem(namespaceKey,JSON.stringify(namespace)),value})},delete(key){return Promise.resolve().then(()=>{const namespace=getNamespace();delete namespace[JSON.stringify(key)],getStorage().setItem(namespaceKey,JSON.stringify(namespace))})},clear(){return Promise.resolve().then(()=>{getStorage().removeItem(namespaceKey)})}}}__name(createBrowserLocalStorageCache,"createBrowserLocalStorageCache");function createNullCache(){return{get(_key,defaultValue,events={miss:__name(()=>Promise.resolve(),"miss")}){return defaultValue().then(result=>Promise.all([result,events.miss(result)])).then(([result])=>result)},set(_key,value){return Promise.resolve(value)},delete(_key){return Promise.resolve()},clear(){return Promise.resolve()}}}__name(createNullCache,"createNullCache");function createFallbackableCache(options){const caches=[...options.caches],current=caches.shift();return current===void 0?createNullCache():{get(key,defaultValue,events={miss:__name(()=>Promise.resolve(),"miss")}){return current.get(key,defaultValue,events).catch(()=>createFallbackableCache({caches}).get(key,defaultValue,events))},set(key,value){return current.set(key,value).catch(()=>createFallbackableCache({caches}).set(key,value))},delete(key){return current.delete(key).catch(()=>createFallbackableCache({caches}).delete(key))},clear(){return current.clear().catch(()=>createFallbackableCache({caches}).clear())}}}__name(createFallbackableCache,"createFallbackableCache");function createMemoryCache(options={serializable:!0}){let cache={};return{get(key,defaultValue,events={miss:__name(()=>Promise.resolve(),"miss")}){const keyAsString=JSON.stringify(key);if(keyAsString in cache)return Promise.resolve(options.serializable?JSON.parse(cache[keyAsString]):cache[keyAsString]);const promise=defaultValue();return promise.then(value=>events.miss(value)).then(()=>promise)},set(key,value){return cache[JSON.stringify(key)]=options.serializable?JSON.stringify(value):value,Promise.resolve(value)},delete(key){return delete cache[JSON.stringify(key)],Promise.resolve()},clear(){return cache={},Promise.resolve()}}}__name(createMemoryCache,"createMemoryCache");function createAlgoliaAgent(version){const algoliaAgent={value:`Algolia for JavaScript (${version})`,add(options){const addedAlgoliaAgent=`; ${options.segment}${options.version!==void 0?` (${options.version})`:""}`;return algoliaAgent.value.indexOf(addedAlgoliaAgent)===-1&&(algoliaAgent.value=`${algoliaAgent.value}${addedAlgoliaAgent}`),algoliaAgent}};return algoliaAgent}__name(createAlgoliaAgent,"createAlgoliaAgent");function createAuth(appId,apiKey,authMode="WithinHeaders"){const credentials={"x-algolia-api-key":apiKey,"x-algolia-application-id":appId};return{headers(){return authMode==="WithinHeaders"?credentials:{}},queryParameters(){return authMode==="WithinQueryParameters"?credentials:{}}}}__name(createAuth,"createAuth");function getAlgoliaAgent({algoliaAgents,client,version}){const defaultAlgoliaAgent=createAlgoliaAgent(version).add({segment:client,version});return algoliaAgents.forEach(algoliaAgent=>defaultAlgoliaAgent.add(algoliaAgent)),defaultAlgoliaAgent}__name(getAlgoliaAgent,"getAlgoliaAgent");function createNullLogger(){return{debug(_message,_args){return Promise.resolve()},info(_message,_args){return Promise.resolve()},error(_message,_args){return Promise.resolve()}}}__name(createNullLogger,"createNullLogger");var EXPIRATION_DELAY=120*1e3;function createStatefulHost(host,status="up"){const lastUpdate=Date.now();function isUp(){return status==="up"||Date.now()-lastUpdate>EXPIRATION_DELAY}__name(isUp,"isUp");function isTimedOut(){return status==="timed out"&&Date.now()-lastUpdate<=EXPIRATION_DELAY}return __name(isTimedOut,"isTimedOut"),{...host,status,lastUpdate,isUp,isTimedOut}}__name(createStatefulHost,"createStatefulHost");var _a,AlgoliaError=(_a=class extends Error{name="AlgoliaError";constructor(message,name){super(message),name&&(this.name=name)}},__name(_a,"AlgoliaError"),_a),_a2,ErrorWithStackTrace=(_a2=class extends AlgoliaError{stackTrace;constructor(message,stackTrace,name){super(message,name),this.stackTrace=stackTrace}},__name(_a2,"ErrorWithStackTrace"),_a2),_a3,RetryError=(_a3=class extends ErrorWithStackTrace{constructor(stackTrace){super("Unreachable hosts - your application id may be incorrect. If the error persists, please visit our help center https://alg.li/support-unreachable-hosts or reach out to the Algolia Support team: https://alg.li/support",stackTrace,"RetryError")}},__name(_a3,"RetryError"),_a3),_a4,ApiError=(_a4=class extends ErrorWithStackTrace{status;constructor(message,status,stackTrace,name="ApiError"){super(message,stackTrace,name),this.status=status}},__name(_a4,"ApiError"),_a4),_a5,DeserializationError=(_a5=class extends AlgoliaError{response;constructor(message,response){super(message,"DeserializationError"),this.response=response}},__name(_a5,"DeserializationError"),_a5),_a6,DetailedApiError=(_a6=class extends ApiError{error;constructor(message,status,error,stackTrace){super(message,status,stackTrace,"DetailedApiError"),this.error=error}},__name(_a6,"DetailedApiError"),_a6);function shuffle(array){const shuffledArray=array;for(let c=array.length-1;c>0;c--){const b=Math.floor(Math.random()*(c+1)),a=array[c];shuffledArray[c]=array[b],shuffledArray[b]=a}return shuffledArray}__name(shuffle,"shuffle");function serializeUrl(host,path,queryParameters){const queryParametersAsString=serializeQueryParameters(queryParameters);let url=`${host.protocol}://${host.url}${host.port?`:${host.port}`:""}/${path.charAt(0)==="/"?path.substring(1):path}`;return queryParametersAsString.length&&(url+=`?${queryParametersAsString}`),url}__name(serializeUrl,"serializeUrl");function serializeQueryParameters(parameters){return Object.keys(parameters).filter(key=>parameters[key]!==void 0).sort().map(key=>`${key}=${encodeURIComponent(Object.prototype.toString.call(parameters[key])==="[object Array]"?parameters[key].join(","):parameters[key]).replace(/\+/g,"%20")}`).join("&")}__name(serializeQueryParameters,"serializeQueryParameters");function serializeData(request,requestOptions){if(request.method==="GET"||request.data===void 0&&requestOptions.data===void 0)return;const data=Array.isArray(request.data)?request.data:{...request.data,...requestOptions.data};return JSON.stringify(data)}__name(serializeData,"serializeData");function serializeHeaders(baseHeaders,requestHeaders,requestOptionsHeaders){const headers={Accept:"application/json",...baseHeaders,...requestHeaders,...requestOptionsHeaders},serializedHeaders={};return Object.keys(headers).forEach(header=>{const value=headers[header];serializedHeaders[header.toLowerCase()]=value}),serializedHeaders}__name(serializeHeaders,"serializeHeaders");function deserializeSuccess(response){try{return JSON.parse(response.content)}catch(e){throw new DeserializationError(e.message,response)}}__name(deserializeSuccess,"deserializeSuccess");function deserializeFailure({content,status},stackFrame){try{const parsed=JSON.parse(content);return"error"in parsed?new DetailedApiError(parsed.message,status,parsed.error,stackFrame):new ApiError(parsed.message,status,stackFrame)}catch{}return new ApiError(content,status,stackFrame)}__name(deserializeFailure,"deserializeFailure");function isNetworkError({isTimedOut,status}){return!isTimedOut&&~~status===0}__name(isNetworkError,"isNetworkError");function isRetryable({isTimedOut,status}){return isTimedOut||isNetworkError({isTimedOut,status})||~~(status/100)!==2&&~~(status/100)!==4}__name(isRetryable,"isRetryable");function isSuccess({status}){return~~(status/100)===2}__name(isSuccess,"isSuccess");function stackTraceWithoutCredentials(stackTrace){return stackTrace.map(stackFrame=>stackFrameWithoutCredentials(stackFrame))}__name(stackTraceWithoutCredentials,"stackTraceWithoutCredentials");function stackFrameWithoutCredentials(stackFrame){const modifiedHeaders=stackFrame.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...stackFrame,request:{...stackFrame.request,headers:{...stackFrame.request.headers,...modifiedHeaders}}}}__name(stackFrameWithoutCredentials,"stackFrameWithoutCredentials");function createTransporter({hosts,hostsCache,baseHeaders,logger,baseQueryParameters,algoliaAgent,timeouts,requester,requestsCache,responsesCache}){async function createRetryableOptions(compatibleHosts){const statefulHosts=await Promise.all(compatibleHosts.map(compatibleHost=>hostsCache.get(compatibleHost,()=>Promise.resolve(createStatefulHost(compatibleHost))))),hostsUp=statefulHosts.filter(host=>host.isUp()),hostsTimedOut=statefulHosts.filter(host=>host.isTimedOut()),hostsAvailable=[...hostsUp,...hostsTimedOut];return{hosts:hostsAvailable.length>0?hostsAvailable:compatibleHosts,getTimeout(timeoutsCount,baseTimeout){return(hostsTimedOut.length===0&&timeoutsCount===0?1:hostsTimedOut.length+3+timeoutsCount)*baseTimeout}}}__name(createRetryableOptions,"createRetryableOptions");async function retryableRequest(request,requestOptions,isRead){const stackTrace=[],data=serializeData(request,requestOptions),headers=serializeHeaders(baseHeaders,request.headers,requestOptions.headers),dataQueryParameters=request.method==="GET"?{...request.data,...requestOptions.data}:{},queryParameters={...baseQueryParameters,...request.queryParameters,...dataQueryParameters};if(algoliaAgent.value&&(queryParameters["x-algolia-agent"]=algoliaAgent.value),requestOptions&&requestOptions.queryParameters)for(const key of Object.keys(requestOptions.queryParameters))!requestOptions.queryParameters[key]||Object.prototype.toString.call(requestOptions.queryParameters[key])==="[object Object]"?queryParameters[key]=requestOptions.queryParameters[key]:queryParameters[key]=requestOptions.queryParameters[key].toString();let timeoutsCount=0;const retry=__name(async(retryableHosts,getTimeout)=>{const host=retryableHosts.pop();if(host===void 0)throw new RetryError(stackTraceWithoutCredentials(stackTrace));const timeout={...timeouts,...requestOptions.timeouts},payload={data,headers,method:request.method,url:serializeUrl(host,request.path,queryParameters),connectTimeout:getTimeout(timeoutsCount,timeout.connect),responseTimeout:getTimeout(timeoutsCount,isRead?timeout.read:timeout.write)},pushToStackTrace=__name(response2=>{const stackFrame={request:payload,response:response2,host,triesLeft:retryableHosts.length};return stackTrace.push(stackFrame),stackFrame},"pushToStackTrace"),response=await requester.send(payload);if(isRetryable(response)){const stackFrame=pushToStackTrace(response);return response.isTimedOut&&timeoutsCount++,logger.info("Retryable failure",stackFrameWithoutCredentials(stackFrame)),await hostsCache.set(host,createStatefulHost(host,response.isTimedOut?"timed out":"down")),retry(retryableHosts,getTimeout)}if(isSuccess(response))return deserializeSuccess(response);throw pushToStackTrace(response),deserializeFailure(response,stackTrace)},"retry"),compatibleHosts=hosts.filter(host=>host.accept==="readWrite"||(isRead?host.accept==="read":host.accept==="write")),options=await createRetryableOptions(compatibleHosts);return retry([...options.hosts].reverse(),options.getTimeout)}__name(retryableRequest,"retryableRequest");function createRequest(request,requestOptions={}){const createRetryableRequest=__name(()=>retryableRequest(request,requestOptions,isRead),"createRetryableRequest"),isRead=request.useReadTransporter||request.method==="GET";if((requestOptions.cacheable||request.cacheable)!==!0)return createRetryableRequest();const key={request,requestOptions,transporter:{queryParameters:baseQueryParameters,headers:baseHeaders}};return responsesCache.get(key,()=>requestsCache.get(key,()=>requestsCache.set(key,createRetryableRequest()).then(response=>Promise.all([requestsCache.delete(key),response]),err=>Promise.all([requestsCache.delete(key),Promise.reject(err)])).then(([_,response])=>response)),{miss:__name(response=>responsesCache.set(key,response),"miss")})}return __name(createRequest,"createRequest"),{hostsCache,requester,timeouts,logger,algoliaAgent,baseHeaders,baseQueryParameters,hosts,request:createRequest,requestsCache,responsesCache}}__name(createTransporter,"createTransporter");var apiClientVersion="5.46.0";function getDefaultHosts(appId){return[{url:`${appId}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${appId}.algolia.net`,accept:"write",protocol:"https"}].concat(shuffle([{url:`${appId}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${appId}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${appId}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}__name(getDefaultHosts,"getDefaultHosts");function createLiteClient({appId:appIdOption,apiKey:apiKeyOption,authMode,algoliaAgents,...options}){const auth=createAuth(appIdOption,apiKeyOption,authMode),transporter=createTransporter({hosts:getDefaultHosts(appIdOption),...options,algoliaAgent:getAlgoliaAgent({algoliaAgents,client:"Lite",version:apiClientVersion}),baseHeaders:{"content-type":"text/plain",...auth.headers(),...options.baseHeaders},baseQueryParameters:{...auth.queryParameters(),...options.baseQueryParameters}});return{transporter,appId:appIdOption,apiKey:apiKeyOption,clearCache(){return Promise.all([transporter.requestsCache.clear(),transporter.responsesCache.clear()]).then(()=>{})},get _ua(){return transporter.algoliaAgent.value},addAlgoliaAgent(segment,version){transporter.algoliaAgent.add({segment,version})},setClientApiKey({apiKey}){!authMode||authMode==="WithinHeaders"?transporter.baseHeaders["x-algolia-api-key"]=apiKey:transporter.baseQueryParameters["x-algolia-api-key"]=apiKey},searchForHits(searchMethodParams,requestOptions){return this.search(searchMethodParams,requestOptions)},searchForFacets(searchMethodParams,requestOptions){return this.search(searchMethodParams,requestOptions)},customPost({path,parameters,body},requestOptions){if(!path)throw new Error("Parameter `path` is required when calling `customPost`.");const request={method:"POST",path:"/{path}".replace("{path}",path),queryParameters:parameters||{},headers:{},data:body||{}};return transporter.request(request,requestOptions)},getRecommendations(getRecommendationsParams,requestOptions){if(getRecommendationsParams&&Array.isArray(getRecommendationsParams)&&(getRecommendationsParams={requests:getRecommendationsParams}),!getRecommendationsParams)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!getRecommendationsParams.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const request={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:getRecommendationsParams,useReadTransporter:!0,cacheable:!0};return transporter.request(request,requestOptions)},search(searchMethodParams,requestOptions){if(searchMethodParams&&Array.isArray(searchMethodParams)&&(searchMethodParams={requests:searchMethodParams.map(({params,...legacyRequest})=>legacyRequest.type==="facet"?{...legacyRequest,...params,type:"facet"}:{...legacyRequest,...params,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!searchMethodParams)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!searchMethodParams.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const request={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:searchMethodParams,useReadTransporter:!0,cacheable:!0};return transporter.request(request,requestOptions)}}}__name(createLiteClient,"createLiteClient");function liteClient(appId,apiKey,options){if(!appId||typeof appId!="string")throw new Error("`appId` is missing.");if(!apiKey||typeof apiKey!="string")throw new Error("`apiKey` is missing.");return createLiteClient({appId,apiKey,timeouts:{connect:1e3,read:2e3,write:3e4},logger:createNullLogger(),requester:m(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:createMemoryCache(),requestsCache:createMemoryCache({serializable:!1}),hostsCache:createFallbackableCache({caches:[createBrowserLocalStorageCache({key:`${apiClientVersion}-${appId}`}),createMemoryCache()]}),...options})}__name(liteClient,"liteClient");const decodeHtml=__name(html=>{const txt=document.createElement("textarea");return txt.innerHTML=html,txt.value},"decodeHtml"),algoliaDataTransform=__name(response=>{const getHighlightValue=__name((item,name)=>item._highlightResult&&item._highlightResult[name]?decodeHtml(item._highlightResult[name].value):item[name]||"","getHighlightValue");return response.map(item=>({title:getHighlightValue(item,"post_title"),summary:getHighlightValue(item,"post_excerpt"),subtitle:item.origin_site||"",image:item.thumbnail?.replaceAll("/wp/","/"),altText:item.thumbnail_alt||"",url:item.permalink||""}))},"algoliaDataTransform"),algoliaParamTransform=__name((params,config)=>{const facets=config?.facetingEnabled&&config?.facets?config.facets.filter(f=>f.enabled).map(f=>f.attribute):void 0;return{hitsPerPage:params?.page_size??20,page:params.page?params.page-1:void 0,query:params.query,facets:facets&&facets.length>0?facets:void 0,facetFilters:params.facetFilters}},"algoliaParamTransform"),algoliaFacetTransform=__name((facets,config,renderingContent)=>!facets||!config.facets?[]:config.facets.filter(facetConfig=>facets[facetConfig.attribute]).map(facetConfig=>{const attribute=facetConfig.attribute,facetData=facets[attribute],facetConfigRC=renderingContent?.facetOrdering?.values?.[attribute],hiddenValues=facetConfigRC?.hide??[],sortRemainingBy=facetConfigRC?.sortRemainingBy,values=Object.entries(facetData).filter(([value])=>!hiddenValues.includes(value)).map(([value,count])=>({value,count}));return sortRemainingBy==="count"?values.sort((a,b)=>b.count-a.count):sortRemainingBy==="alpha"&&values.sort((a,b)=>a.value.localeCompare(b.value)),{attribute,label:facetConfig.label,values}}),"algoliaFacetTransform"),AlgoliaAdapter=__name(config=>{const searchClient=liteClient(config.applicationId,config.apiKey);return{search:__name(async params=>{const{results}=await searchClient.searchForHits({requests:[{indexName:config.collectionName,...algoliaParamTransform(params,config)}]});return{query:params.query??"",totalHits:results[0]?.nbHits??0,currentPage:results[0]?.page?results[0]?.page+1:1,totalPages:results[0]?.nbPages??1,hits:algoliaDataTransform(results[0]?.hits??[]),facets:algoliaFacetTransform(results[0]?.facets,config,results[0]?.renderingContent)}},"search")}},"AlgoliaAdapter");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var f=n.default;if(typeof f=="function"){var a=__name(function a2(){var isInstance=!1;try{isInstance=this instanceof a2}catch{}return isInstance?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)},"a");a.prototype=f.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach(function(k){var d=Object.getOwnPropertyDescriptor(n,k);Object.defineProperty(a,k,d.get?d:{enumerable:!0,get:__name(function(){return n[k]},"get")})}),a}__name(getAugmentedNamespace,"getAugmentedNamespace");var Typesense={},extendStatics=__name(function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)Object.prototype.hasOwnProperty.call(b2,p)&&(d2[p]=b2[p])},extendStatics(d,b)},"extendStatics");function __extends(d,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}__name(__,"__"),d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}__name(__extends,"__extends");var __assign=__name(function(){return __assign=Object.assign||__name(function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},"__assign"),__assign.apply(this,arguments)},"__assign");function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t}__name(__rest,"__rest");function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}__name(__decorate,"__decorate");function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}__name(__param,"__param");function __esDecorate(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}__name(accept,"accept");for(var kind=contextIn.kind,key=kind==="getter"?"get":kind==="setter"?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),_,done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]=p==="access"?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])(kind==="accessor"?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if(kind==="accessor"){if(result===void 0)continue;if(result===null||typeof result!="object")throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&(kind==="field"?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0}__name(__esDecorate,"__esDecorate");function __runInitializers(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0}__name(__runInitializers,"__runInitializers");function __propKey(x){return typeof x=="symbol"?x:"".concat(x)}__name(__propKey,"__propKey");function __setFunctionName(f,name,prefix){return typeof name=="symbol"&&(name=name.description?"[".concat(name.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:prefix?"".concat(prefix," ",name):name})}__name(__setFunctionName,"__setFunctionName");function __metadata(metadataKey,metadataValue){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(metadataKey,metadataValue)}__name(__metadata,"__metadata");function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return __name(adopt,"adopt"),new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}__name(fulfilled,"fulfilled");function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}__name(rejected,"rejected");function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}__name(step,"step"),step((generator=generator.apply(thisArg,_arguments||[])).next())})}__name(__awaiter,"__awaiter");function __generator(thisArg,body){var _={label:0,sent:__name(function(){if(t[0]&1)throw t[1];return t[1]},"sent"),trys:[],ops:[]},f,y,t,g=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=op[0]&2?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(t=_.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}__name(__generator,"__generator");var __createBinding=Object.create?(function(o,m2,k,k2){k2===void 0&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m2,k);(!desc||("get"in desc?!m2.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:__name(function(){return m2[k]},"get")}),Object.defineProperty(o,k2,desc)}):(function(o,m2,k,k2){k2===void 0&&(k2=k),o[k2]=m2[k]});function __exportStar(m2,o){for(var p in m2)p!=="default"&&!Object.prototype.hasOwnProperty.call(o,p)&&__createBinding(o,m2,p)}__name(__exportStar,"__exportStar");function __values(o){var s=typeof Symbol=="function"&&Symbol.iterator,m2=s&&o[s],i=0;if(m2)return m2.call(o);if(o&&typeof o.length=="number")return{next:__name(function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}},"next")};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}__name(__values,"__values");function __read(o,n){var m2=typeof Symbol=="function"&&o[Symbol.iterator];if(!m2)return o;var i=m2.call(o),r,ar=[],e;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m2=i.return)&&m2.call(i)}finally{if(e)throw e.error}}return ar}__name(__read,"__read");function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}__name(__spread,"__spread");function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}__name(__spreadArrays,"__spreadArrays");function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++)(ar||!(i in from))&&(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}__name(__spreadArray,"__spreadArray");function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}__name(__await,"__await");function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this},i;function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}}function verb(n,f){g[n]&&(i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})},f&&(i[n]=f(i[n])))}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}__name(__asyncGenerator,"__asyncGenerator");function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:!1}:f?f(v):v}:f}}__name(__asyncDelegator,"__asyncDelegator");function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m2=o[Symbol.asyncIterator],i;return m2?m2.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v){Promise.resolve(v).then(function(v2){resolve({value:v2,done:d})},reject)}}__name(__asyncValues,"__asyncValues");function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}__name(__makeTemplateObject,"__makeTemplateObject");var __setModuleDefault=Object.create?(function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}):function(o,v){o.default=v},ownKeys=__name(function(o){return ownKeys=Object.getOwnPropertyNames||function(o2){var ar=[];for(var k in o2)Object.prototype.hasOwnProperty.call(o2,k)&&(ar[ar.length]=k);return ar},ownKeys(o)},"ownKeys");function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k=ownKeys(mod),i=0;i<k.length;i++)k[i]!=="default"&&__createBinding(result,mod,k[i]);return __setModuleDefault(result,mod),result}__name(__importStar,"__importStar");function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}__name(__importDefault,"__importDefault");function __classPrivateFieldGet(receiver,state,kind,f){if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof state=="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver)}__name(__classPrivateFieldGet,"__classPrivateFieldGet");function __classPrivateFieldSet(receiver,state,value,kind,f){if(kind==="m")throw new TypeError("Private method is not writable");if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof state=="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return kind==="a"?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}__name(__classPrivateFieldSet,"__classPrivateFieldSet");function __classPrivateFieldIn(state,receiver){if(receiver===null||typeof receiver!="object"&&typeof receiver!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof state=="function"?receiver===state:state.has(receiver)}__name(__classPrivateFieldIn,"__classPrivateFieldIn");function __addDisposableResource(env,value,async){if(value!=null){if(typeof value!="object"&&typeof value!="function")throw new TypeError("Object expected.");var dispose,inner;if(async){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");dispose=value[Symbol.asyncDispose]}if(dispose===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");dispose=value[Symbol.dispose],async&&(inner=dispose)}if(typeof dispose!="function")throw new TypeError("Object not disposable.");inner&&(dispose=__name(function(){try{inner.call(this)}catch(e){return Promise.reject(e)}},"dispose")),env.stack.push({value,dispose,async})}else async&&env.stack.push({async:!0});return value}__name(__addDisposableResource,"__addDisposableResource");var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(error,suppressed,message){var e=new Error(message);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e};function __disposeResources(env){function fail(e){env.error=env.hasError?new _SuppressedError(e,env.error,"An error was suppressed during disposal."):e,env.hasError=!0}__name(fail,"fail");var r,s=0;function next(){for(;r=env.stack.pop();)try{if(!r.async&&s===1)return s=0,env.stack.push(r),Promise.resolve().then(next);if(r.dispose){var result=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(result).then(next,function(e){return fail(e),next()})}else s|=1}catch(e){fail(e)}if(s===1)return env.hasError?Promise.reject(env.error):Promise.resolve();if(env.hasError)throw env.error}return __name(next,"next"),next()}__name(__disposeResources,"__disposeResources");function __rewriteRelativeImportExtension(path,preserveJsx){return typeof path=="string"&&/^\.\.?\//.test(path)?path.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(m2,tsx,d,ext,cm){return tsx?preserveJsx?".jsx":".js":d&&(!ext||!cm)?m2:d+ext+"."+cm.toLowerCase()+"js"}):path}__name(__rewriteRelativeImportExtension,"__rewriteRelativeImportExtension");const tslib_es6={__extends,__assign,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet,__classPrivateFieldIn,__classPrivateFieldSet,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6$1);var Client={},Configuration={},loglevel$1={exports:{}},loglevel=loglevel$1.exports,hasRequiredLoglevel;function requireLoglevel(){return hasRequiredLoglevel||(hasRequiredLoglevel=1,(function(module){(function(root,definition){module.exports?module.exports=definition():root.log=definition()})(loglevel,function(){var noop=__name(function(){},"noop"),undefinedType="undefined",isIE=typeof window!==undefinedType&&typeof window.navigator!==undefinedType&&/Trident\/|MSIE /.test(window.navigator.userAgent),logMethods=["trace","debug","info","warn","error"],_loggersByName={},defaultLogger=null;function bindMethod(obj,methodName){var method=obj[methodName];if(typeof method.bind=="function")return method.bind(obj);try{return Function.prototype.bind.call(method,obj)}catch{return function(){return Function.prototype.apply.apply(method,[obj,arguments])}}}__name(bindMethod,"bindMethod");function traceForIE(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}__name(traceForIE,"traceForIE");function realMethod(methodName){return methodName==="debug"&&(methodName="log"),typeof console===undefinedType?!1:methodName==="trace"&&isIE?traceForIE:console[methodName]!==void 0?bindMethod(console,methodName):console.log!==void 0?bindMethod(console,"log"):noop}__name(realMethod,"realMethod");function replaceLoggingMethods(){for(var level=this.getLevel(),i=0;i<logMethods.length;i++){var methodName=logMethods[i];this[methodName]=i<level?noop:this.methodFactory(methodName,level,this.name)}if(this.log=this.debug,typeof console===undefinedType&&level<this.levels.SILENT)return"No console available for logging"}__name(replaceLoggingMethods,"replaceLoggingMethods");function enableLoggingWhenConsoleArrives(methodName){return function(){typeof console!==undefinedType&&(replaceLoggingMethods.call(this),this[methodName].apply(this,arguments))}}__name(enableLoggingWhenConsoleArrives,"enableLoggingWhenConsoleArrives");function defaultMethodFactory(methodName,_level,_loggerName){return realMethod(methodName)||enableLoggingWhenConsoleArrives.apply(this,arguments)}__name(defaultMethodFactory,"defaultMethodFactory");function Logger(name,factory){var self2=this,inheritedLevel,defaultLevel,userLevel,storageKey="loglevel";typeof name=="string"?storageKey+=":"+name:typeof name=="symbol"&&(storageKey=void 0);function persistLevelIfPossible(levelNum){var levelName=(logMethods[levelNum]||"silent").toUpperCase();if(!(typeof window===undefinedType||!storageKey)){try{window.localStorage[storageKey]=levelName;return}catch{}try{window.document.cookie=encodeURIComponent(storageKey)+"="+levelName+";"}catch{}}}__name(persistLevelIfPossible,"persistLevelIfPossible");function getPersistedLevel(){var storedLevel;if(!(typeof window===undefinedType||!storageKey)){try{storedLevel=window.localStorage[storageKey]}catch{}if(typeof storedLevel===undefinedType)try{var cookie=window.document.cookie,cookieName=encodeURIComponent(storageKey),location=cookie.indexOf(cookieName+"=");location!==-1&&(storedLevel=/^([^;]+)/.exec(cookie.slice(location+cookieName.length+1))[1])}catch{}return self2.levels[storedLevel]===void 0&&(storedLevel=void 0),storedLevel}}__name(getPersistedLevel,"getPersistedLevel");function clearPersistedLevel(){if(!(typeof window===undefinedType||!storageKey)){try{window.localStorage.removeItem(storageKey)}catch{}try{window.document.cookie=encodeURIComponent(storageKey)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}__name(clearPersistedLevel,"clearPersistedLevel");function normalizeLevel(input){var level=input;if(typeof level=="string"&&self2.levels[level.toUpperCase()]!==void 0&&(level=self2.levels[level.toUpperCase()]),typeof level=="number"&&level>=0&&level<=self2.levels.SILENT)return level;throw new TypeError("log.setLevel() called with invalid level: "+input)}__name(normalizeLevel,"normalizeLevel"),self2.name=name,self2.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},self2.methodFactory=factory||defaultMethodFactory,self2.getLevel=function(){return userLevel??defaultLevel??inheritedLevel},self2.setLevel=function(level,persist){return userLevel=normalizeLevel(level),persist!==!1&&persistLevelIfPossible(userLevel),replaceLoggingMethods.call(self2)},self2.setDefaultLevel=function(level){defaultLevel=normalizeLevel(level),getPersistedLevel()||self2.setLevel(level,!1)},self2.resetLevel=function(){userLevel=null,clearPersistedLevel(),replaceLoggingMethods.call(self2)},self2.enableAll=function(persist){self2.setLevel(self2.levels.TRACE,persist)},self2.disableAll=function(persist){self2.setLevel(self2.levels.SILENT,persist)},self2.rebuild=function(){if(defaultLogger!==self2&&(inheritedLevel=normalizeLevel(defaultLogger.getLevel())),replaceLoggingMethods.call(self2),defaultLogger===self2)for(var childName in _loggersByName)_loggersByName[childName].rebuild()},inheritedLevel=normalizeLevel(defaultLogger?defaultLogger.getLevel():"WARN");var initialLevel=getPersistedLevel();initialLevel!=null&&(userLevel=normalizeLevel(initialLevel)),replaceLoggingMethods.call(self2)}__name(Logger,"Logger"),defaultLogger=new Logger,defaultLogger.getLogger=__name(function(name){if(typeof name!="symbol"&&typeof name!="string"||name==="")throw new TypeError("You must supply a name when creating a logger.");var logger=_loggersByName[name];return logger||(logger=_loggersByName[name]=new Logger(name,defaultLogger.methodFactory)),logger},"getLogger");var _log=typeof window!==undefinedType?window.log:void 0;return defaultLogger.noConflict=function(){return typeof window!==undefinedType&&window.log===defaultLogger&&(window.log=_log),defaultLogger},defaultLogger.getLoggers=__name(function(){return _loggersByName},"getLoggers"),defaultLogger.default=defaultLogger,defaultLogger})})(loglevel$1)),loglevel$1.exports}__name(requireLoglevel,"requireLoglevel");var Errors={},HTTPError={},TypesenseError={},hasRequiredTypesenseError;function requireTypesenseError(){if(hasRequiredTypesenseError)return TypesenseError;hasRequiredTypesenseError=1,Object.defineProperty(TypesenseError,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError$1=(function(_super){tslib_1.__extends(TypesenseError2,_super);function TypesenseError2(message,httpBody,httpStatus){var _newTarget=this.constructor,_this=_super.call(this,message)||this;return _this.name=_newTarget.name,_this.httpBody=httpBody,_this.httpStatus=httpStatus,Object.setPrototypeOf(_this,_newTarget.prototype),_this}return __name(TypesenseError2,"TypesenseError"),TypesenseError2})(Error);return TypesenseError.default=TypesenseError$1,TypesenseError}__name(requireTypesenseError,"requireTypesenseError");var hasRequiredHTTPError;function requireHTTPError(){if(hasRequiredHTTPError)return HTTPError;hasRequiredHTTPError=1,Object.defineProperty(HTTPError,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),HTTPError$1=(function(_super){tslib_1.__extends(HTTPError2,_super);function HTTPError2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(HTTPError2,"HTTPError"),HTTPError2})(TypesenseError_1.default);return HTTPError.default=HTTPError$1,HTTPError}__name(requireHTTPError,"requireHTTPError");var MissingConfigurationError={},hasRequiredMissingConfigurationError;function requireMissingConfigurationError(){if(hasRequiredMissingConfigurationError)return MissingConfigurationError;hasRequiredMissingConfigurationError=1,Object.defineProperty(MissingConfigurationError,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),MissingConfigurationError$1=(function(_super){tslib_1.__extends(MissingConfigurationError2,_super);function MissingConfigurationError2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(MissingConfigurationError2,"MissingConfigurationError"),MissingConfigurationError2})(TypesenseError_1.default);return MissingConfigurationError.default=MissingConfigurationError$1,MissingConfigurationError}__name(requireMissingConfigurationError,"requireMissingConfigurationError");var ObjectAlreadyExists={},hasRequiredObjectAlreadyExists;function requireObjectAlreadyExists(){if(hasRequiredObjectAlreadyExists)return ObjectAlreadyExists;hasRequiredObjectAlreadyExists=1,Object.defineProperty(ObjectAlreadyExists,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),ObjectAlreadyExists$1=(function(_super){tslib_1.__extends(ObjectAlreadyExists2,_super);function ObjectAlreadyExists2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(ObjectAlreadyExists2,"ObjectAlreadyExists"),ObjectAlreadyExists2})(TypesenseError_1.default);return ObjectAlreadyExists.default=ObjectAlreadyExists$1,ObjectAlreadyExists}__name(requireObjectAlreadyExists,"requireObjectAlreadyExists");var ObjectNotFound={},hasRequiredObjectNotFound;function requireObjectNotFound(){if(hasRequiredObjectNotFound)return ObjectNotFound;hasRequiredObjectNotFound=1,Object.defineProperty(ObjectNotFound,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),ObjectNotFound$1=(function(_super){tslib_1.__extends(ObjectNotFound2,_super);function ObjectNotFound2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(ObjectNotFound2,"ObjectNotFound"),ObjectNotFound2})(TypesenseError_1.default);return ObjectNotFound.default=ObjectNotFound$1,ObjectNotFound}__name(requireObjectNotFound,"requireObjectNotFound");var ObjectUnprocessable={},hasRequiredObjectUnprocessable;function requireObjectUnprocessable(){if(hasRequiredObjectUnprocessable)return ObjectUnprocessable;hasRequiredObjectUnprocessable=1,Object.defineProperty(ObjectUnprocessable,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),ObjectUnprocessable$1=(function(_super){tslib_1.__extends(ObjectUnprocessable2,_super);function ObjectUnprocessable2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(ObjectUnprocessable2,"ObjectUnprocessable"),ObjectUnprocessable2})(TypesenseError_1.default);return ObjectUnprocessable.default=ObjectUnprocessable$1,ObjectUnprocessable}__name(requireObjectUnprocessable,"requireObjectUnprocessable");var RequestMalformed={},hasRequiredRequestMalformed;function requireRequestMalformed(){if(hasRequiredRequestMalformed)return RequestMalformed;hasRequiredRequestMalformed=1,Object.defineProperty(RequestMalformed,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),RequestMalformed$1=(function(_super){tslib_1.__extends(RequestMalformed2,_super);function RequestMalformed2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(RequestMalformed2,"RequestMalformed"),RequestMalformed2})(TypesenseError_1.default);return RequestMalformed.default=RequestMalformed$1,RequestMalformed}__name(requireRequestMalformed,"requireRequestMalformed");var RequestUnauthorized={},hasRequiredRequestUnauthorized;function requireRequestUnauthorized(){if(hasRequiredRequestUnauthorized)return RequestUnauthorized;hasRequiredRequestUnauthorized=1,Object.defineProperty(RequestUnauthorized,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),RequestUnauthorized$1=(function(_super){tslib_1.__extends(RequestUnauthorized2,_super);function RequestUnauthorized2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(RequestUnauthorized2,"RequestUnauthorized"),RequestUnauthorized2})(TypesenseError_1.default);return RequestUnauthorized.default=RequestUnauthorized$1,RequestUnauthorized}__name(requireRequestUnauthorized,"requireRequestUnauthorized");var ServerError={},hasRequiredServerError;function requireServerError(){if(hasRequiredServerError)return ServerError;hasRequiredServerError=1,Object.defineProperty(ServerError,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),ServerError$1=(function(_super){tslib_1.__extends(ServerError2,_super);function ServerError2(){return _super!==null&&_super.apply(this,arguments)||this}return __name(ServerError2,"ServerError"),ServerError2})(TypesenseError_1.default);return ServerError.default=ServerError$1,ServerError}__name(requireServerError,"requireServerError");var ImportError={},hasRequiredImportError;function requireImportError(){if(hasRequiredImportError)return ImportError;hasRequiredImportError=1,Object.defineProperty(ImportError,"__esModule",{value:!0});var tslib_1=require$$0,TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),ImportError$1=(function(_super){tslib_1.__extends(ImportError2,_super);function ImportError2(message,importResults,payload){var _this=_super.call(this,message)||this;return _this.importResults=importResults,_this.payload=payload,_this}return __name(ImportError2,"ImportError"),ImportError2})(TypesenseError_1.default);return ImportError.default=ImportError$1,ImportError}__name(requireImportError,"requireImportError");var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return Errors;hasRequiredErrors=1,Object.defineProperty(Errors,"__esModule",{value:!0}),Errors.ImportError=Errors.TypesenseError=Errors.ServerError=Errors.RequestUnauthorized=Errors.RequestMalformed=Errors.ObjectUnprocessable=Errors.ObjectNotFound=Errors.ObjectAlreadyExists=Errors.MissingConfigurationError=Errors.HTTPError=void 0;var tslib_1=require$$0,HTTPError_1=tslib_1.__importDefault(requireHTTPError());Errors.HTTPError=HTTPError_1.default;var MissingConfigurationError_1=tslib_1.__importDefault(requireMissingConfigurationError());Errors.MissingConfigurationError=MissingConfigurationError_1.default;var ObjectAlreadyExists_1=tslib_1.__importDefault(requireObjectAlreadyExists());Errors.ObjectAlreadyExists=ObjectAlreadyExists_1.default;var ObjectNotFound_1=tslib_1.__importDefault(requireObjectNotFound());Errors.ObjectNotFound=ObjectNotFound_1.default;var ObjectUnprocessable_1=tslib_1.__importDefault(requireObjectUnprocessable());Errors.ObjectUnprocessable=ObjectUnprocessable_1.default;var RequestMalformed_1=tslib_1.__importDefault(requireRequestMalformed());Errors.RequestMalformed=RequestMalformed_1.default;var RequestUnauthorized_1=tslib_1.__importDefault(requireRequestUnauthorized());Errors.RequestUnauthorized=RequestUnauthorized_1.default;var ServerError_1=tslib_1.__importDefault(requireServerError());Errors.ServerError=ServerError_1.default;var ImportError_1=tslib_1.__importDefault(requireImportError());Errors.ImportError=ImportError_1.default;var TypesenseError_1=tslib_1.__importDefault(requireTypesenseError());return Errors.TypesenseError=TypesenseError_1.default,Errors}__name(requireErrors,"requireErrors");var hasRequiredConfiguration;function requireConfiguration(){if(hasRequiredConfiguration)return Configuration;hasRequiredConfiguration=1,Object.defineProperty(Configuration,"__esModule",{value:!0});var tslib_1=require$$0,logger=tslib_1.__importStar(requireLoglevel()),Errors_1=requireErrors(),Configuration$1=(function(){function Configuration2(options){var _this=this;this.nodes=options.nodes||[],this.nodes=this.nodes.map(function(node){return _this.setDefaultPathInNode(node)}).map(function(node){return _this.setDefaultPortInNode(node)}).map(function(node){return tslib_1.__assign({},node)}),options.randomizeNodes==null&&(options.randomizeNodes=!0),options.randomizeNodes===!0&&this.shuffleArray(this.nodes),this.nearestNode=options.nearestNode,this.nearestNode=this.setDefaultPathInNode(this.nearestNode),this.nearestNode=this.setDefaultPortInNode(this.nearestNode),this.connectionTimeoutSeconds=options.connectionTimeoutSeconds||options.timeoutSeconds||5,this.healthcheckIntervalSeconds=options.healthcheckIntervalSeconds||60,this.numRetries=(options.numRetries!==void 0&&options.numRetries>=0?options.numRetries:this.nodes.length+(this.nearestNode==null?0:1))||3,this.retryIntervalSeconds=options.retryIntervalSeconds||.1,this.apiKey=options.apiKey,this.sendApiKeyAsQueryParam=options.sendApiKeyAsQueryParam,this.cacheSearchResultsForSeconds=options.cacheSearchResultsForSeconds||0,this.useServerSideSearchCache=options.useServerSideSearchCache||!1,this.axiosAdapter=options.axiosAdapter,this.logger=options.logger||logger,this.logLevel=options.logLevel||"warn",this.logger.setLevel(this.logLevel),this.additionalHeaders=options.additionalHeaders,this.httpAgent=options.httpAgent,this.httpsAgent=options.httpsAgent,this.paramsSerializer=options.paramsSerializer,this.showDeprecationWarnings(options),this.validate()}return __name(Configuration2,"Configuration"),Configuration2.prototype.validate=function(){if(this.nodes==null||this.nodes.length===0||this.validateNodes())throw new Errors_1.MissingConfigurationError("Ensure that nodes[].protocol, nodes[].host and nodes[].port are set");if(this.nearestNode!=null&&this.isNodeMissingAnyParameters(this.nearestNode))throw new Errors_1.MissingConfigurationError("Ensure that nearestNodes.protocol, nearestNodes.host and nearestNodes.port are set");if(this.apiKey==null)throw new Errors_1.MissingConfigurationError("Ensure that apiKey is set");return!0},Configuration2.prototype.validateNodes=function(){var _this=this;return this.nodes.some(function(node){return _this.isNodeMissingAnyParameters(node)})},Configuration2.prototype.isNodeMissingAnyParameters=function(node){return!["protocol","host","port","path"].every(function(key){return node.hasOwnProperty(key)})&&node.url==null},Configuration2.prototype.setDefaultPathInNode=function(node){return node!=null&&!node.hasOwnProperty("path")&&(node.path=""),node},Configuration2.prototype.setDefaultPortInNode=function(node){if(node!=null&&!node.hasOwnProperty("port")&&node.hasOwnProperty("protocol"))switch(node.protocol){case"https":node.port=443;break;case"http":node.port=80;break}return node},Configuration2.prototype.showDeprecationWarnings=function(options){options.timeoutSeconds&&this.logger.warn("Deprecation warning: timeoutSeconds is now renamed to connectionTimeoutSeconds"),options.masterNode&&this.logger.warn("Deprecation warning: masterNode is now consolidated to nodes, starting with Typesense Server v0.12"),options.readReplicaNodes&&this.logger.warn("Deprecation warning: readReplicaNodes is now consolidated to nodes, starting with Typesense Server v0.12")},Configuration2.prototype.shuffleArray=function(array){for(var _a7,i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));_a7=[array[j],array[i]],array[i]=_a7[0],array[j]=_a7[1]}},Configuration2})();return Configuration.default=Configuration$1,Configuration}__name(requireConfiguration,"requireConfiguration");var ApiCall={};var axios_1,hasRequiredAxios;function requireAxios(){if(hasRequiredAxios)return axios_1;hasRequiredAxios=1;function bind(fn,thisArg){return __name(function(){return fn.apply(thisArg,arguments)},"wrap")}__name(bind,"bind");const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(cache=>thing=>{const str=toString.call(thing);return cache[str]||(cache[str]=str.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=__name(type=>(type=type.toLowerCase(),thing=>kindOf(thing)===type),"kindOfTest"),typeOfTest=__name(type=>thing=>typeof thing===type,"typeOfTest"),{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(val){return val!==null&&!isUndefined(val)&&val.constructor!==null&&!isUndefined(val.constructor)&&isFunction$1(val.constructor.isBuffer)&&val.constructor.isBuffer(val)}__name(isBuffer,"isBuffer");const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(val){let result;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?result=ArrayBuffer.isView(val):result=val&&val.buffer&&isArrayBuffer(val.buffer),result}__name(isArrayBufferView,"isArrayBufferView");const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=__name(thing=>thing!==null&&typeof thing=="object","isObject"),isBoolean=__name(thing=>thing===!0||thing===!1,"isBoolean"),isPlainObject=__name(val=>{if(kindOf(val)!=="object")return!1;const prototype2=getPrototypeOf(val);return(prototype2===null||prototype2===Object.prototype||Object.getPrototypeOf(prototype2)===null)&&!(toStringTag in val)&&!(iterator in val)},"isPlainObject"),isEmptyObject=__name(val=>{if(!isObject(val)||isBuffer(val))return!1;try{return Object.keys(val).length===0&&Object.getPrototypeOf(val)===Object.prototype}catch{return!1}},"isEmptyObject"),isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=__name(val=>isObject(val)&&isFunction$1(val.pipe),"isStream"),isFormData=__name(thing=>{let kind;return thing&&(typeof FormData=="function"&&thing instanceof FormData||isFunction$1(thing.append)&&((kind=kindOf(thing))==="formdata"||kind==="object"&&isFunction$1(thing.toString)&&thing.toString()==="[object FormData]"))},"isFormData"),isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=__name(str=>str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim");function forEach(obj,fn,{allOwnKeys=!1}={}){if(obj===null||typeof obj>"u")return;let i,l;if(typeof obj!="object"&&(obj=[obj]),isArray(obj))for(i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else{if(isBuffer(obj))return;const keys=allOwnKeys?Object.getOwnPropertyNames(obj):Object.keys(obj),len=keys.length;let key;for(i=0;i<len;i++)key=keys[i],fn.call(null,obj[key],key,obj)}}__name(forEach,"forEach");function findKey(obj,key){if(isBuffer(obj))return null;key=key.toLowerCase();const keys=Object.keys(obj);let i=keys.length,_key;for(;i-- >0;)if(_key=keys[i],key===_key.toLowerCase())return _key;return null}__name(findKey,"findKey");const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,isContextDefined=__name(context=>!isUndefined(context)&&context!==_global,"isContextDefined");function merge(){const{caseless,skipUndefined}=isContextDefined(this)&&this||{},result={},assignValue=__name((val,key)=>{const targetKey=caseless&&findKey(result,key)||key;isPlainObject(result[targetKey])&&isPlainObject(val)?result[targetKey]=merge(result[targetKey],val):isPlainObject(val)?result[targetKey]=merge({},val):isArray(val)?result[targetKey]=val.slice():(!skipUndefined||!isUndefined(val))&&(result[targetKey]=val)},"assignValue");for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&forEach(arguments[i],assignValue);return result}__name(merge,"merge");const extend=__name((a,b,thisArg,{allOwnKeys}={})=>(forEach(b,(val,key)=>{thisArg&&isFunction$1(val)?a[key]=bind(val,thisArg):a[key]=val},{allOwnKeys}),a),"extend"),stripBOM=__name(content=>(content.charCodeAt(0)===65279&&(content=content.slice(1)),content),"stripBOM"),inherits=__name((constructor,superConstructor,props,descriptors2)=>{constructor.prototype=Object.create(superConstructor.prototype,descriptors2),constructor.prototype.constructor=constructor,Object.defineProperty(constructor,"super",{value:superConstructor.prototype}),props&&Object.assign(constructor.prototype,props)},"inherits"),toFlatObject=__name((sourceObj,destObj,filter,propFilter)=>{let props,i,prop;const merged={};if(destObj=destObj||{},sourceObj==null)return destObj;do{for(props=Object.getOwnPropertyNames(sourceObj),i=props.length;i-- >0;)prop=props[i],(!propFilter||propFilter(prop,sourceObj,destObj))&&!merged[prop]&&(destObj[prop]=sourceObj[prop],merged[prop]=!0);sourceObj=filter!==!1&&getPrototypeOf(sourceObj)}while(sourceObj&&(!filter||filter(sourceObj,destObj))&&sourceObj!==Object.prototype);return destObj},"toFlatObject"),endsWith=__name((str,searchString,position)=>{str=String(str),(position===void 0||position>str.length)&&(position=str.length),position-=searchString.length;const lastIndex=str.indexOf(searchString,position);return lastIndex!==-1&&lastIndex===position},"endsWith"),toArray=__name(thing=>{if(!thing)return null;if(isArray(thing))return thing;let i=thing.length;if(!isNumber(i))return null;const arr=new Array(i);for(;i-- >0;)arr[i]=thing[i];return arr},"toArray"),isTypedArray=(TypedArray=>thing=>TypedArray&&thing instanceof TypedArray)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=__name((obj,fn)=>{const _iterator=(obj&&obj[iterator]).call(obj);let result;for(;(result=_iterator.next())&&!result.done;){const pair=result.value;fn.call(obj,pair[0],pair[1])}},"forEachEntry"),matchAll=__name((regExp,str)=>{let matches;const arr=[];for(;(matches=regExp.exec(str))!==null;)arr.push(matches);return arr},"matchAll"),isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=__name(str=>str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,__name(function(m2,p1,p2){return p1.toUpperCase()+p2},"replacer")),"toCamelCase"),hasOwnProperty=(({hasOwnProperty:hasOwnProperty2})=>(obj,prop)=>hasOwnProperty2.call(obj,prop))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=__name((obj,reducer)=>{const descriptors2=Object.getOwnPropertyDescriptors(obj),reducedDescriptors={};forEach(descriptors2,(descriptor,name)=>{let ret;(ret=reducer(descriptor,name,obj))!==!1&&(reducedDescriptors[name]=ret||descriptor)}),Object.defineProperties(obj,reducedDescriptors)},"reduceDescriptors"),freezeMethods=__name(obj=>{reduceDescriptors(obj,(descriptor,name)=>{if(isFunction$1(obj)&&["arguments","caller","callee"].indexOf(name)!==-1)return!1;const value=obj[name];if(isFunction$1(value)){if(descriptor.enumerable=!1,"writable"in descriptor){descriptor.writable=!1;return}descriptor.set||(descriptor.set=()=>{throw Error("Can not rewrite read-only method '"+name+"'")})}})},"freezeMethods"),toObjectSet=__name((arrayOrString,delimiter)=>{const obj={},define=__name(arr=>{arr.forEach(value=>{obj[value]=!0})},"define");return isArray(arrayOrString)?define(arrayOrString):define(String(arrayOrString).split(delimiter)),obj},"toObjectSet"),noop=__name(()=>{},"noop"),toFiniteNumber=__name((value,defaultValue)=>value!=null&&Number.isFinite(value=+value)?value:defaultValue,"toFiniteNumber");function isSpecCompliantForm(thing){return!!(thing&&isFunction$1(thing.append)&&thing[toStringTag]==="FormData"&&thing[iterator])}__name(isSpecCompliantForm,"isSpecCompliantForm");const toJSONObject=__name(obj=>{const stack=new Array(10),visit=__name((source,i)=>{if(isObject(source)){if(stack.indexOf(source)>=0)return;if(isBuffer(source))return source;if(!("toJSON"in source)){stack[i]=source;const target=isArray(source)?[]:{};return forEach(source,(value,key)=>{const reducedValue=visit(value,i+1);!isUndefined(reducedValue)&&(target[key]=reducedValue)}),stack[i]=void 0,target}}return source},"visit");return visit(obj,0)},"toJSONObject"),isAsyncFn=kindOfTest("AsyncFunction"),isThenable=__name(thing=>thing&&(isObject(thing)||isFunction$1(thing))&&isFunction$1(thing.then)&&isFunction$1(thing.catch),"isThenable"),_setImmediate=((setImmediateSupported,postMessageSupported)=>setImmediateSupported?setImmediate:postMessageSupported?((token,callbacks)=>(_global.addEventListener("message",({source,data})=>{source===_global&&data===token&&callbacks.length&&callbacks.shift()()},!1),cb=>{callbacks.push(cb),_global.postMessage(token,"*")}))(`axios@${Math.random()}`,[]):cb=>setTimeout(cb))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate;var utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable:__name(thing=>thing!=null&&isFunction$1(thing[iterator]),"isIterable")};function AxiosError(message,code,config,request,response){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=message,this.name="AxiosError",code&&(this.code=code),config&&(this.config=config),request&&(this.request=request),response&&(this.response=response,this.status=response.status?response.status:null)}__name(AxiosError,"AxiosError"),utils$1.inherits(AxiosError,Error,{toJSON:__name(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}},"toJSON")});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(code=>{descriptors[code]={value:code}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(error,code,config,request,response,customProps)=>{const axiosError=Object.create(prototype$1);utils$1.toFlatObject(error,axiosError,__name(function(obj){return obj!==Error.prototype},"filter"),prop=>prop!=="isAxiosError");const msg=error&&error.message?error.message:"Error",errCode=code==null&&error?error.code:code;return AxiosError.call(axiosError,msg,errCode,config,request,response),error&&axiosError.cause==null&&Object.defineProperty(axiosError,"cause",{value:error,configurable:!0}),axiosError.name=error&&error.name||"Error",customProps&&Object.assign(axiosError,customProps),axiosError};var httpAdapter=null;function isVisitable(thing){return utils$1.isPlainObject(thing)||utils$1.isArray(thing)}__name(isVisitable,"isVisitable");function removeBrackets(key){return utils$1.endsWith(key,"[]")?key.slice(0,-2):key}__name(removeBrackets,"removeBrackets");function renderKey(path,key,dots){return path?path.concat(key).map(__name(function(token,i){return token=removeBrackets(token),!dots&&i?"["+token+"]":token},"each")).join(dots?".":""):key}__name(renderKey,"renderKey");function isFlatArray(arr){return utils$1.isArray(arr)&&!arr.some(isVisitable)}__name(isFlatArray,"isFlatArray");const predicates=utils$1.toFlatObject(utils$1,{},null,__name(function(prop){return/^is[A-Z]/.test(prop)},"filter"));function toFormData(obj,formData,options){if(!utils$1.isObject(obj))throw new TypeError("target must be an object");formData=formData||new FormData,options=utils$1.toFlatObject(options,{metaTokens:!0,dots:!1,indexes:!1},!1,__name(function(option,source){return!utils$1.isUndefined(source[option])},"defined"));const metaTokens=options.metaTokens,visitor=options.visitor||defaultVisitor,dots=options.dots,indexes=options.indexes,useBlob=(options.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(formData);if(!utils$1.isFunction(visitor))throw new TypeError("visitor must be a function");function convertValue(value){if(value===null)return"";if(utils$1.isDate(value))return value.toISOString();if(utils$1.isBoolean(value))return value.toString();if(!useBlob&&utils$1.isBlob(value))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(value)||utils$1.isTypedArray(value)?useBlob&&typeof Blob=="function"?new Blob([value]):Buffer.from(value):value}__name(convertValue,"convertValue");function defaultVisitor(value,key,path){let arr=value;if(value&&!path&&typeof value=="object"){if(utils$1.endsWith(key,"{}"))key=metaTokens?key:key.slice(0,-2),value=JSON.stringify(value);else if(utils$1.isArray(value)&&isFlatArray(value)||(utils$1.isFileList(value)||utils$1.endsWith(key,"[]"))&&(arr=utils$1.toArray(value)))return key=removeBrackets(key),arr.forEach(__name(function(el,index){!(utils$1.isUndefined(el)||el===null)&&formData.append(indexes===!0?renderKey([key],index,dots):indexes===null?key:key+"[]",convertValue(el))},"each")),!1}return isVisitable(value)?!0:(formData.append(renderKey(path,key,dots),convertValue(value)),!1)}__name(defaultVisitor,"defaultVisitor");const stack=[],exposedHelpers=Object.assign(predicates,{defaultVisitor,convertValue,isVisitable});function build(value,path){if(!utils$1.isUndefined(value)){if(stack.indexOf(value)!==-1)throw Error("Circular reference detected in "+path.join("."));stack.push(value),utils$1.forEach(value,__name(function(el,key){(!(utils$1.isUndefined(el)||el===null)&&visitor.call(formData,el,utils$1.isString(key)?key.trim():key,path,exposedHelpers))===!0&&build(el,path?path.concat(key):[key])},"each")),stack.pop()}}if(__name(build,"build"),!utils$1.isObject(obj))throw new TypeError("data must be an object");return build(obj),formData}__name(toFormData,"toFormData");function encode$1(str){const charMap={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g,__name(function(match){return charMap[match]},"replacer"))}__name(encode$1,"encode$1");function AxiosURLSearchParams(params,options){this._pairs=[],params&&toFormData(params,this,options)}__name(AxiosURLSearchParams,"AxiosURLSearchParams");const prototype=AxiosURLSearchParams.prototype;prototype.append=__name(function(name,value){this._pairs.push([name,value])},"append"),prototype.toString=__name(function(encoder){const _encode=encoder?function(value){return encoder.call(this,value,encode$1)}:encode$1;return this._pairs.map(__name(function(pair){return _encode(pair[0])+"="+_encode(pair[1])},"each"),"").join("&")},"toString");function encode(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}__name(encode,"encode");function buildURL(url,params,options){if(!params)return url;const _encode=options&&options.encode||encode;utils$1.isFunction(options)&&(options={serialize:options});const serializeFn=options&&options.serialize;let serializedParams;if(serializeFn?serializedParams=serializeFn(params,options):serializedParams=utils$1.isURLSearchParams(params)?params.toString():new AxiosURLSearchParams(params,options).toString(_encode),serializedParams){const hashmarkIndex=url.indexOf("#");hashmarkIndex!==-1&&(url=url.slice(0,hashmarkIndex)),url+=(url.indexOf("?")===-1?"?":"&")+serializedParams}return url}__name(buildURL,"buildURL");const _InterceptorManager=class _InterceptorManager{constructor(){this.handlers=[]}use(fulfilled,rejected,options){return this.handlers.push({fulfilled,rejected,synchronous:options?options.synchronous:!1,runWhen:options?options.runWhen:null}),this.handlers.length-1}eject(id){this.handlers[id]&&(this.handlers[id]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(fn){utils$1.forEach(this.handlers,__name(function(h){h!==null&&fn(h)},"forEachHandler"))}};__name(_InterceptorManager,"InterceptorManager");let InterceptorManager=_InterceptorManager;var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost";var utils=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,navigator:_navigator,origin}),platform={...utils,...platform$1};function toURLEncodedForm(data,options){return toFormData(data,new platform.classes.URLSearchParams,{visitor:__name(function(value,key,path,helpers){return platform.isNode&&utils$1.isBuffer(value)?(this.append(key,value.toString("base64")),!1):helpers.defaultVisitor.apply(this,arguments)},"visitor"),...options})}__name(toURLEncodedForm,"toURLEncodedForm");function parsePropPath(name){return utils$1.matchAll(/\w+|\[(\w*)]/g,name).map(match=>match[0]==="[]"?"":match[1]||match[0])}__name(parsePropPath,"parsePropPath");function arrayToObject(arr){const obj={},keys=Object.keys(arr);let i;const len=keys.length;let key;for(i=0;i<len;i++)key=keys[i],obj[key]=arr[key];return obj}__name(arrayToObject,"arrayToObject");function formDataToJSON(formData){function buildPath(path,value,target,index){let name=path[index++];if(name==="__proto__")return!0;const isNumericKey=Number.isFinite(+name),isLast=index>=path.length;return name=!name&&utils$1.isArray(target)?target.length:name,isLast?(utils$1.hasOwnProp(target,name)?target[name]=[target[name],value]:target[name]=value,!isNumericKey):((!target[name]||!utils$1.isObject(target[name]))&&(target[name]=[]),buildPath(path,value,target[name],index)&&utils$1.isArray(target[name])&&(target[name]=arrayToObject(target[name])),!isNumericKey)}if(__name(buildPath,"buildPath"),utils$1.isFormData(formData)&&utils$1.isFunction(formData.entries)){const obj={};return utils$1.forEachEntry(formData,(name,value)=>{buildPath(parsePropPath(name),value,obj,0)}),obj}return null}__name(formDataToJSON,"formDataToJSON");function stringifySafely(rawValue,parser,encoder){if(utils$1.isString(rawValue))try{return(parser||JSON.parse)(rawValue),utils$1.trim(rawValue)}catch(e){if(e.name!=="SyntaxError")throw e}return(encoder||JSON.stringify)(rawValue)}__name(stringifySafely,"stringifySafely");const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[__name(function(data,headers){const contentType=headers.getContentType()||"",hasJSONContentType=contentType.indexOf("application/json")>-1,isObjectPayload=utils$1.isObject(data);if(isObjectPayload&&utils$1.isHTMLForm(data)&&(data=new FormData(data)),utils$1.isFormData(data))return hasJSONContentType?JSON.stringify(formDataToJSON(data)):data;if(utils$1.isArrayBuffer(data)||utils$1.isBuffer(data)||utils$1.isStream(data)||utils$1.isFile(data)||utils$1.isBlob(data)||utils$1.isReadableStream(data))return data;if(utils$1.isArrayBufferView(data))return data.buffer;if(utils$1.isURLSearchParams(data))return headers.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),data.toString();let isFileList2;if(isObjectPayload){if(contentType.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(data,this.formSerializer).toString();if((isFileList2=utils$1.isFileList(data))||contentType.indexOf("multipart/form-data")>-1){const _FormData=this.env&&this.env.FormData;return toFormData(isFileList2?{"files[]":data}:data,_FormData&&new _FormData,this.formSerializer)}}return isObjectPayload||hasJSONContentType?(headers.setContentType("application/json",!1),stringifySafely(data)):data},"transformRequest")],transformResponse:[__name(function(data){const transitional=this.transitional||defaults.transitional,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,JSONRequested=this.responseType==="json";if(utils$1.isResponse(data)||utils$1.isReadableStream(data))return data;if(data&&utils$1.isString(data)&&(forcedJSONParsing&&!this.responseType||JSONRequested)){const strictJSONParsing=!(transitional&&transitional.silentJSONParsing)&&JSONRequested;try{return JSON.parse(data,this.parseReviver)}catch(e){if(strictJSONParsing)throw e.name==="SyntaxError"?AxiosError.from(e,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):e}}return data},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:__name(function(status){return status>=200&&status<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],method=>{defaults.headers[method]={}});var defaults$1=defaults;const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=__name(rawHeaders=>{const parsed={};let key,val,i;return rawHeaders&&rawHeaders.split(`
`).forEach(__name(function(line){i=line.indexOf(":"),key=line.substring(0,i).trim().toLowerCase(),val=line.substring(i+1).trim(),!(!key||parsed[key]&&ignoreDuplicateOf[key])&&(key==="set-cookie"?parsed[key]?parsed[key].push(val):parsed[key]=[val]:parsed[key]=parsed[key]?parsed[key]+", "+val:val)},"parser")),parsed},"parseHeaders");const $internals=Symbol("internals");function normalizeHeader(header){return header&&String(header).trim().toLowerCase()}__name(normalizeHeader,"normalizeHeader");function normalizeValue(value){return value===!1||value==null?value:utils$1.isArray(value)?value.map(normalizeValue):String(value)}__name(normalizeValue,"normalizeValue");function parseTokens(str){const tokens=Object.create(null),tokensRE=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let match;for(;match=tokensRE.exec(str);)tokens[match[1]]=match[2];return tokens}__name(parseTokens,"parseTokens");const isValidHeaderName=__name(str=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim()),"isValidHeaderName");function matchHeaderValue(context,value,header,filter,isHeaderNameFilter){if(utils$1.isFunction(filter))return filter.call(this,value,header);if(isHeaderNameFilter&&(value=header),!!utils$1.isString(value)){if(utils$1.isString(filter))return value.indexOf(filter)!==-1;if(utils$1.isRegExp(filter))return filter.test(value)}}__name(matchHeaderValue,"matchHeaderValue");function formatHeader(header){return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(w,char,str)=>char.toUpperCase()+str)}__name(formatHeader,"formatHeader");function buildAccessors(obj,header){const accessorName=utils$1.toCamelCase(" "+header);["get","set","has"].forEach(methodName=>{Object.defineProperty(obj,methodName+accessorName,{value:__name(function(arg1,arg2,arg3){return this[methodName].call(this,header,arg1,arg2,arg3)},"value"),configurable:!0})})}__name(buildAccessors,"buildAccessors");const _AxiosHeaders=class _AxiosHeaders{constructor(headers){headers&&this.set(headers)}set(header,valueOrRewrite,rewrite){const self2=this;function setHeader(_value,_header,_rewrite){const lHeader=normalizeHeader(_header);if(!lHeader)throw new Error("header name must be a non-empty string");const key=utils$1.findKey(self2,lHeader);(!key||self2[key]===void 0||_rewrite===!0||_rewrite===void 0&&self2[key]!==!1)&&(self2[key||_header]=normalizeValue(_value))}__name(setHeader,"setHeader");const setHeaders=__name((headers,_rewrite)=>utils$1.forEach(headers,(_value,_header)=>setHeader(_value,_header,_rewrite)),"setHeaders");if(utils$1.isPlainObject(header)||header instanceof this.constructor)setHeaders(header,valueOrRewrite);else if(utils$1.isString(header)&&(header=header.trim())&&!isValidHeaderName(header))setHeaders(parseHeaders(header),valueOrRewrite);else if(utils$1.isObject(header)&&utils$1.isIterable(header)){let obj={},dest,key;for(const entry of header){if(!utils$1.isArray(entry))throw TypeError("Object iterator must return a key-value pair");obj[key=entry[0]]=(dest=obj[key])?utils$1.isArray(dest)?[...dest,entry[1]]:[dest,entry[1]]:entry[1]}setHeaders(obj,valueOrRewrite)}else header!=null&&setHeader(valueOrRewrite,header,rewrite);return this}get(header,parser){if(header=normalizeHeader(header),header){const key=utils$1.findKey(this,header);if(key){const value=this[key];if(!parser)return value;if(parser===!0)return parseTokens(value);if(utils$1.isFunction(parser))return parser.call(this,value,key);if(utils$1.isRegExp(parser))return parser.exec(value);throw new TypeError("parser must be boolean|regexp|function")}}}has(header,matcher){if(header=normalizeHeader(header),header){const key=utils$1.findKey(this,header);return!!(key&&this[key]!==void 0&&(!matcher||matchHeaderValue(this,this[key],key,matcher)))}return!1}delete(header,matcher){const self2=this;let deleted=!1;function deleteHeader(_header){if(_header=normalizeHeader(_header),_header){const key=utils$1.findKey(self2,_header);key&&(!matcher||matchHeaderValue(self2,self2[key],key,matcher))&&(delete self2[key],deleted=!0)}}return __name(deleteHeader,"deleteHeader"),utils$1.isArray(header)?header.forEach(deleteHeader):deleteHeader(header),deleted}clear(matcher){const keys=Object.keys(this);let i=keys.length,deleted=!1;for(;i--;){const key=keys[i];(!matcher||matchHeaderValue(this,this[key],key,matcher,!0))&&(delete this[key],deleted=!0)}return deleted}normalize(format){const self2=this,headers={};return utils$1.forEach(this,(value,header)=>{const key=utils$1.findKey(headers,header);if(key){self2[key]=normalizeValue(value),delete self2[header];return}const normalized=format?formatHeader(header):String(header).trim();normalized!==header&&delete self2[header],self2[normalized]=normalizeValue(value),headers[normalized]=!0}),this}concat(...targets){return this.constructor.concat(this,...targets)}toJSON(asStrings){const obj=Object.create(null);return utils$1.forEach(this,(value,header)=>{value!=null&&value!==!1&&(obj[header]=asStrings&&utils$1.isArray(value)?value.join(", "):value)}),obj}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([header,value])=>header+": "+value).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(thing){return thing instanceof this?thing:new this(thing)}static concat(first,...targets){const computed=new this(first);return targets.forEach(target=>computed.set(target)),computed}static accessor(header){const accessors=(this[$internals]=this[$internals]={accessors:{}}).accessors,prototype2=this.prototype;function defineAccessor(_header){const lHeader=normalizeHeader(_header);accessors[lHeader]||(buildAccessors(prototype2,_header),accessors[lHeader]=!0)}return __name(defineAccessor,"defineAccessor"),utils$1.isArray(header)?header.forEach(defineAccessor):defineAccessor(header),this}};__name(_AxiosHeaders,"AxiosHeaders");let AxiosHeaders=_AxiosHeaders;AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders.prototype,({value},key)=>{let mapped=key[0].toUpperCase()+key.slice(1);return{get:__name(()=>value,"get"),set(headerValue){this[mapped]=headerValue}}}),utils$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(fns,response){const config=this||defaults$1,context=response||config,headers=AxiosHeaders$1.from(context.headers);let data=context.data;return utils$1.forEach(fns,__name(function(fn){data=fn.call(config,data,headers.normalize(),response?response.status:void 0)},"transform")),headers.normalize(),data}__name(transformData,"transformData");function isCancel(value){return!!(value&&value.__CANCEL__)}__name(isCancel,"isCancel");function CanceledError(message,config,request){AxiosError.call(this,message??"canceled",AxiosError.ERR_CANCELED,config,request),this.name="CanceledError"}__name(CanceledError,"CanceledError"),utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(resolve,reject,response){const validateStatus=response.config.validateStatus;!response.status||!validateStatus||validateStatus(response.status)?resolve(response):reject(new AxiosError("Request failed with status code "+response.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status/100)-4],response.config,response.request,response))}__name(settle,"settle");function parseProtocol(url){const match=/^([-+\w]{1,25})(:?\/\/|:)/.exec(url);return match&&match[1]||""}__name(parseProtocol,"parseProtocol");function speedometer(samplesCount,min){samplesCount=samplesCount||10;const bytes=new Array(samplesCount),timestamps=new Array(samplesCount);let head=0,tail=0,firstSampleTS;return min=min!==void 0?min:1e3,__name(function(chunkLength){const now=Date.now(),startedAt=timestamps[tail];firstSampleTS||(firstSampleTS=now),bytes[head]=chunkLength,timestamps[head]=now;let i=tail,bytesCount=0;for(;i!==head;)bytesCount+=bytes[i++],i=i%samplesCount;if(head=(head+1)%samplesCount,head===tail&&(tail=(tail+1)%samplesCount),now-firstSampleTS<min)return;const passed=startedAt&&now-startedAt;return passed?Math.round(bytesCount*1e3/passed):void 0},"push")}__name(speedometer,"speedometer");function throttle(fn,freq){let timestamp=0,threshold=1e3/freq,lastArgs,timer;const invoke=__name((args,now=Date.now())=>{timestamp=now,lastArgs=null,timer&&(clearTimeout(timer),timer=null),fn(...args)},"invoke");return[__name((...args)=>{const now=Date.now(),passed=now-timestamp;passed>=threshold?invoke(args,now):(lastArgs=args,timer||(timer=setTimeout(()=>{timer=null,invoke(lastArgs)},threshold-passed)))},"throttled"),__name(()=>lastArgs&&invoke(lastArgs),"flush")]}__name(throttle,"throttle");const progressEventReducer=__name((listener,isDownloadStream,freq=3)=>{let bytesNotified=0;const _speedometer=speedometer(50,250);return throttle(e=>{const loaded=e.loaded,total=e.lengthComputable?e.total:void 0,progressBytes=loaded-bytesNotified,rate=_speedometer(progressBytes),inRange=loaded<=total;bytesNotified=loaded;const data={loaded,total,progress:total?loaded/total:void 0,bytes:progressBytes,rate:rate||void 0,estimated:rate&&total&&inRange?(total-loaded)/rate:void 0,event:e,lengthComputable:total!=null,[isDownloadStream?"download":"upload"]:!0};listener(data)},freq)},"progressEventReducer"),progressEventDecorator=__name((total,throttled)=>{const lengthComputable=total!=null;return[loaded=>throttled[0]({lengthComputable,total,loaded}),throttled[1]]},"progressEventDecorator"),asyncDecorator=__name(fn=>(...args)=>utils$1.asap(()=>fn(...args)),"asyncDecorator");var isURLSameOrigin=platform.hasStandardBrowserEnv?((origin2,isMSIE)=>url=>(url=new URL(url,platform.origin),origin2.protocol===url.protocol&&origin2.host===url.host&&(isMSIE||origin2.port===url.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(name,value,expires,path,domain,secure,sameSite){if(typeof document>"u")return;const cookie=[`${name}=${encodeURIComponent(value)}`];utils$1.isNumber(expires)&&cookie.push(`expires=${new Date(expires).toUTCString()}`),utils$1.isString(path)&&cookie.push(`path=${path}`),utils$1.isString(domain)&&cookie.push(`domain=${domain}`),secure===!0&&cookie.push("secure"),utils$1.isString(sameSite)&&cookie.push(`SameSite=${sameSite}`),document.cookie=cookie.join("; ")},read(name){if(typeof document>"u")return null;const match=document.cookie.match(new RegExp("(?:^|; )"+name+"=([^;]*)"));return match?decodeURIComponent(match[1]):null},remove(name){this.write(name,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(url){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(url)}__name(isAbsoluteURL,"isAbsoluteURL");function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/?\/$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}__name(combineURLs,"combineURLs");function buildFullPath(baseURL,requestedURL,allowAbsoluteUrls){let isRelativeUrl=!isAbsoluteURL(requestedURL);return baseURL&&(isRelativeUrl||allowAbsoluteUrls==!1)?combineURLs(baseURL,requestedURL):requestedURL}__name(buildFullPath,"buildFullPath");const headersToObject=__name(thing=>thing instanceof AxiosHeaders$1?{...thing}:thing,"headersToObject");function mergeConfig(config1,config2){config2=config2||{};const config={};function getMergedValue(target,source,prop,caseless){return utils$1.isPlainObject(target)&&utils$1.isPlainObject(source)?utils$1.merge.call({caseless},target,source):utils$1.isPlainObject(source)?utils$1.merge({},source):utils$1.isArray(source)?source.slice():source}__name(getMergedValue,"getMergedValue");function mergeDeepProperties(a,b,prop,caseless){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(a))return getMergedValue(void 0,a,prop,caseless)}else return getMergedValue(a,b,prop,caseless)}__name(mergeDeepProperties,"mergeDeepProperties");function valueFromConfig2(a,b){if(!utils$1.isUndefined(b))return getMergedValue(void 0,b)}__name(valueFromConfig2,"valueFromConfig2");function defaultToConfig2(a,b){if(utils$1.isUndefined(b)){if(!utils$1.isUndefined(a))return getMergedValue(void 0,a)}else return getMergedValue(void 0,b)}__name(defaultToConfig2,"defaultToConfig2");function mergeDirectKeys(a,b,prop){if(prop in config2)return getMergedValue(a,b);if(prop in config1)return getMergedValue(void 0,a)}__name(mergeDirectKeys,"mergeDirectKeys");const mergeMap={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:__name((a,b,prop)=>mergeDeepProperties(headersToObject(a),headersToObject(b),prop,!0),"headers")};return utils$1.forEach(Object.keys({...config1,...config2}),__name(function(prop){const merge2=mergeMap[prop]||mergeDeepProperties,configValue=merge2(config1[prop],config2[prop],prop);utils$1.isUndefined(configValue)&&merge2!==mergeDirectKeys||(config[prop]=configValue)},"computeConfigValue")),config}__name(mergeConfig,"mergeConfig");var resolveConfig=__name(config=>{const newConfig=mergeConfig({},config);let{data,withXSRFToken,xsrfHeaderName,xsrfCookieName,headers,auth}=newConfig;if(newConfig.headers=headers=AxiosHeaders$1.from(headers),newConfig.url=buildURL(buildFullPath(newConfig.baseURL,newConfig.url,newConfig.allowAbsoluteUrls),config.params,config.paramsSerializer),auth&&headers.set("Authorization","Basic "+btoa((auth.username||"")+":"+(auth.password?unescape(encodeURIComponent(auth.password)):""))),utils$1.isFormData(data)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)headers.setContentType(void 0);else if(utils$1.isFunction(data.getHeaders)){const formHeaders=data.getHeaders(),allowedHeaders=["content-type","content-length"];Object.entries(formHeaders).forEach(([key,val])=>{allowedHeaders.includes(key.toLowerCase())&&headers.set(key,val)})}}if(platform.hasStandardBrowserEnv&&(withXSRFToken&&utils$1.isFunction(withXSRFToken)&&(withXSRFToken=withXSRFToken(newConfig)),withXSRFToken||withXSRFToken!==!1&&isURLSameOrigin(newConfig.url))){const xsrfValue=xsrfHeaderName&&xsrfCookieName&&cookies.read(xsrfCookieName);xsrfValue&&headers.set(xsrfHeaderName,xsrfValue)}return newConfig},"resolveConfig"),xhrAdapter=typeof XMLHttpRequest<"u"&&function(config){return new Promise(__name(function(resolve,reject){const _config=resolveConfig(config);let requestData=_config.data;const requestHeaders=AxiosHeaders$1.from(_config.headers).normalize();let{responseType,onUploadProgress,onDownloadProgress}=_config,onCanceled,uploadThrottled,downloadThrottled,flushUpload,flushDownload;function done(){flushUpload&&flushUpload(),flushDownload&&flushDownload(),_config.cancelToken&&_config.cancelToken.unsubscribe(onCanceled),_config.signal&&_config.signal.removeEventListener("abort",onCanceled)}__name(done,"done");let request=new XMLHttpRequest;request.open(_config.method.toUpperCase(),_config.url,!0),request.timeout=_config.timeout;function onloadend(){if(!request)return;const responseHeaders=AxiosHeaders$1.from("getAllResponseHeaders"in request&&request.getAllResponseHeaders()),response={data:!responseType||responseType==="text"||responseType==="json"?request.responseText:request.response,status:request.status,statusText:request.statusText,headers:responseHeaders,config,request};settle(__name(function(value){resolve(value),done()},"_resolve"),__name(function(err){reject(err),done()},"_reject"),response),request=null}__name(onloadend,"onloadend"),"onloadend"in request?request.onloadend=onloadend:request.onreadystatechange=__name(function(){!request||request.readyState!==4||request.status===0&&!(request.responseURL&&request.responseURL.indexOf("file:")===0)||setTimeout(onloadend)},"handleLoad"),request.onabort=__name(function(){request&&(reject(new AxiosError("Request aborted",AxiosError.ECONNABORTED,config,request)),request=null)},"handleAbort"),request.onerror=__name(function(event){const msg=event&&event.message?event.message:"Network Error",err=new AxiosError(msg,AxiosError.ERR_NETWORK,config,request);err.event=event||null,reject(err),request=null},"handleError"),request.ontimeout=__name(function(){let timeoutErrorMessage=_config.timeout?"timeout of "+_config.timeout+"ms exceeded":"timeout exceeded";const transitional=_config.transitional||transitionalDefaults;_config.timeoutErrorMessage&&(timeoutErrorMessage=_config.timeoutErrorMessage),reject(new AxiosError(timeoutErrorMessage,transitional.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,config,request)),request=null},"handleTimeout"),requestData===void 0&&requestHeaders.setContentType(null),"setRequestHeader"in request&&utils$1.forEach(requestHeaders.toJSON(),__name(function(val,key){request.setRequestHeader(key,val)},"setRequestHeader")),utils$1.isUndefined(_config.withCredentials)||(request.withCredentials=!!_config.withCredentials),responseType&&responseType!=="json"&&(request.responseType=_config.responseType),onDownloadProgress&&([downloadThrottled,flushDownload]=progressEventReducer(onDownloadProgress,!0),request.addEventListener("progress",downloadThrottled)),onUploadProgress&&request.upload&&([uploadThrottled,flushUpload]=progressEventReducer(onUploadProgress),request.upload.addEventListener("progress",uploadThrottled),request.upload.addEventListener("loadend",flushUpload)),(_config.cancelToken||_config.signal)&&(onCanceled=__name(cancel=>{request&&(reject(!cancel||cancel.type?new CanceledError(null,config,request):cancel),request.abort(),request=null)},"onCanceled"),_config.cancelToken&&_config.cancelToken.subscribe(onCanceled),_config.signal&&(_config.signal.aborted?onCanceled():_config.signal.addEventListener("abort",onCanceled)));const protocol=parseProtocol(_config.url);if(protocol&&platform.protocols.indexOf(protocol)===-1){reject(new AxiosError("Unsupported protocol "+protocol+":",AxiosError.ERR_BAD_REQUEST,config));return}request.send(requestData||null)},"dispatchXhrRequest"))},composeSignals$1=__name((signals,timeout)=>{const{length}=signals=signals?signals.filter(Boolean):[];if(timeout||length){let controller=new AbortController,aborted;const onabort=__name(function(reason){if(!aborted){aborted=!0,unsubscribe();const err=reason instanceof Error?reason:this.reason;controller.abort(err instanceof AxiosError?err:new CanceledError(err instanceof Error?err.message:err))}},"onabort");let timer=timeout&&setTimeout(()=>{timer=null,onabort(new AxiosError(`timeout ${timeout} of ms exceeded`,AxiosError.ETIMEDOUT))},timeout);const unsubscribe=__name(()=>{signals&&(timer&&clearTimeout(timer),timer=null,signals.forEach(signal2=>{signal2.unsubscribe?signal2.unsubscribe(onabort):signal2.removeEventListener("abort",onabort)}),signals=null)},"unsubscribe");signals.forEach(signal2=>signal2.addEventListener("abort",onabort));const{signal}=controller;return signal.unsubscribe=()=>utils$1.asap(unsubscribe),signal}},"composeSignals");const streamChunk=__name(function*(chunk,chunkSize){let len=chunk.byteLength;if(len<chunkSize){yield chunk;return}let pos=0,end;for(;pos<len;)end=pos+chunkSize,yield chunk.slice(pos,end),pos=end},"streamChunk"),readBytes=__name(async function*(iterable,chunkSize){for await(const chunk of readStream(iterable))yield*streamChunk(chunk,chunkSize)},"readBytes"),readStream=__name(async function*(stream){if(stream[Symbol.asyncIterator]){yield*stream;return}const reader=stream.getReader();try{for(;;){const{done,value}=await reader.read();if(done)break;yield value}}finally{await reader.cancel()}},"readStream"),trackStream=__name((stream,chunkSize,onProgress,onFinish)=>{const iterator2=readBytes(stream,chunkSize);let bytes=0,done,_onFinish=__name(e=>{done||(done=!0,onFinish&&onFinish(e))},"_onFinish");return new ReadableStream({async pull(controller){try{const{done:done2,value}=await iterator2.next();if(done2){_onFinish(),controller.close();return}let len=value.byteLength;if(onProgress){let loadedBytes=bytes+=len;onProgress(loadedBytes)}controller.enqueue(new Uint8Array(value))}catch(err){throw _onFinish(err),err}},cancel(reason){return _onFinish(reason),iterator2.return()}},{highWaterMark:2})},"trackStream"),DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils$1,globalFetchAPI=(({Request,Response})=>({Request,Response}))(utils$1.global),{ReadableStream:ReadableStream$1,TextEncoder}=utils$1.global,test=__name((fn,...args)=>{try{return!!fn(...args)}catch{return!1}},"test"),factory=__name(env=>{env=utils$1.merge.call({skipUndefined:!0},globalFetchAPI,env);const{fetch:envFetch,Request,Response}=env,isFetchSupported=envFetch?isFunction(envFetch):typeof fetch=="function",isRequestSupported=isFunction(Request),isResponseSupported=isFunction(Response);if(!isFetchSupported)return!1;const isReadableStreamSupported=isFetchSupported&&isFunction(ReadableStream$1),encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(encoder=>str=>encoder.encode(str))(new TextEncoder):async str=>new Uint8Array(await new Request(str).arrayBuffer())),supportsRequestStream=isRequestSupported&&isReadableStreamSupported&&test(()=>{let duplexAccessed=!1;const hasContentType=new Request(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return duplexAccessed=!0,"half"}}).headers.has("Content-Type");return duplexAccessed&&!hasContentType}),supportsResponseStream=isResponseSupported&&isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(res=>res.body)};isFetchSupported&&["text","arrayBuffer","blob","formData","stream"].forEach(type=>{!resolvers[type]&&(resolvers[type]=(res,config)=>{let method=res&&res[type];if(method)return method.call(res);throw new AxiosError(`Response type '${type}' is not supported`,AxiosError.ERR_NOT_SUPPORT,config)})});const getBodyLength=__name(async body=>{if(body==null)return 0;if(utils$1.isBlob(body))return body.size;if(utils$1.isSpecCompliantForm(body))return(await new Request(platform.origin,{method:"POST",body}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(body)||utils$1.isArrayBuffer(body))return body.byteLength;if(utils$1.isURLSearchParams(body)&&(body=body+""),utils$1.isString(body))return(await encodeText(body)).byteLength},"getBodyLength"),resolveBodyLength=__name(async(headers,body)=>{const length=utils$1.toFiniteNumber(headers.getContentLength());return length??getBodyLength(body)},"resolveBodyLength");return async config=>{let{url,method,data,signal,cancelToken,timeout,onDownloadProgress,onUploadProgress,responseType,headers,withCredentials="same-origin",fetchOptions}=resolveConfig(config),_fetch=envFetch||fetch;responseType=responseType?(responseType+"").toLowerCase():"text";let composedSignal=composeSignals$1([signal,cancelToken&&cancelToken.toAbortSignal()],timeout),request=null;const unsubscribe=composedSignal&&composedSignal.unsubscribe&&(()=>{composedSignal.unsubscribe()});let requestContentLength;try{if(onUploadProgress&&supportsRequestStream&&method!=="get"&&method!=="head"&&(requestContentLength=await resolveBodyLength(headers,data))!==0){let _request=new Request(url,{method:"POST",body:data,duplex:"half"}),contentTypeHeader;if(utils$1.isFormData(data)&&(contentTypeHeader=_request.headers.get("content-type"))&&headers.setContentType(contentTypeHeader),_request.body){const[onProgress,flush]=progressEventDecorator(requestContentLength,progressEventReducer(asyncDecorator(onUploadProgress)));data=trackStream(_request.body,DEFAULT_CHUNK_SIZE,onProgress,flush)}}utils$1.isString(withCredentials)||(withCredentials=withCredentials?"include":"omit");const isCredentialsSupported=isRequestSupported&&"credentials"in Request.prototype,resolvedOptions={...fetchOptions,signal:composedSignal,method:method.toUpperCase(),headers:headers.normalize().toJSON(),body:data,duplex:"half",credentials:isCredentialsSupported?withCredentials:void 0};request=isRequestSupported&&new Request(url,resolvedOptions);let response=await(isRequestSupported?_fetch(request,fetchOptions):_fetch(url,resolvedOptions));const isStreamResponse=supportsResponseStream&&(responseType==="stream"||responseType==="response");if(supportsResponseStream&&(onDownloadProgress||isStreamResponse&&unsubscribe)){const options={};["status","statusText","headers"].forEach(prop=>{options[prop]=response[prop]});const responseContentLength=utils$1.toFiniteNumber(response.headers.get("content-length")),[onProgress,flush]=onDownloadProgress&&progressEventDecorator(responseContentLength,progressEventReducer(asyncDecorator(onDownloadProgress),!0))||[];response=new Response(trackStream(response.body,DEFAULT_CHUNK_SIZE,onProgress,()=>{flush&&flush(),unsubscribe&&unsubscribe()}),options)}responseType=responseType||"text";let responseData=await resolvers[utils$1.findKey(resolvers,responseType)||"text"](response,config);return!isStreamResponse&&unsubscribe&&unsubscribe(),await new Promise((resolve,reject)=>{settle(resolve,reject,{data:responseData,headers:AxiosHeaders$1.from(response.headers),status:response.status,statusText:response.statusText,config,request})})}catch(err){throw unsubscribe&&unsubscribe(),err&&err.name==="TypeError"&&/Load failed|fetch/i.test(err.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,config,request),{cause:err.cause||err}):AxiosError.from(err,err&&err.code,config,request)}}},"factory"),seedCache=new Map,getFetch=__name(config=>{let env=config&&config.env||{};const{fetch:fetch2,Request,Response}=env,seeds=[Request,Response,fetch2];let len=seeds.length,i=len,seed,target,map=seedCache;for(;i--;)seed=seeds[i],target=map.get(seed),target===void 0&&map.set(seed,target=i?new Map:factory(env)),map=target;return target},"getFetch");getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$1.forEach(knownAdapters,(fn,value)=>{if(fn){try{Object.defineProperty(fn,"name",{value})}catch{}Object.defineProperty(fn,"adapterName",{value})}});const renderReason=__name(reason=>`- ${reason}`,"renderReason"),isResolvedHandle=__name(adapter=>utils$1.isFunction(adapter)||adapter===null||adapter===!1,"isResolvedHandle");function getAdapter(adapters2,config){adapters2=utils$1.isArray(adapters2)?adapters2:[adapters2];const{length}=adapters2;let nameOrAdapter,adapter;const rejectedReasons={};for(let i=0;i<length;i++){nameOrAdapter=adapters2[i];let id;if(adapter=nameOrAdapter,!isResolvedHandle(nameOrAdapter)&&(adapter=knownAdapters[(id=String(nameOrAdapter)).toLowerCase()],adapter===void 0))throw new AxiosError(`Unknown adapter '${id}'`);if(adapter&&(utils$1.isFunction(adapter)||(adapter=adapter.get(config))))break;rejectedReasons[id||"#"+i]=adapter}if(!adapter){const reasons=Object.entries(rejectedReasons).map(([id,state])=>`adapter ${id} `+(state===!1?"is not supported by the environment":"is not available in the build"));let s=length?reasons.length>1?`since :
`+reasons.map(renderReason).join(`
`):" "+renderReason(reasons[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return adapter}__name(getAdapter,"getAdapter");var adapters={getAdapter,adapters:knownAdapters};function throwIfCancellationRequested(config){if(config.cancelToken&&config.cancelToken.throwIfRequested(),config.signal&&config.signal.aborted)throw new CanceledError(null,config)}__name(throwIfCancellationRequested,"throwIfCancellationRequested");function dispatchRequest(config){return throwIfCancellationRequested(config),config.headers=AxiosHeaders$1.from(config.headers),config.data=transformData.call(config,config.transformRequest),["post","put","patch"].indexOf(config.method)!==-1&&config.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(config.adapter||defaults$1.adapter,config)(config).then(__name(function(response){return throwIfCancellationRequested(config),response.data=transformData.call(config,config.transformResponse,response),response.headers=AxiosHeaders$1.from(response.headers),response},"onAdapterResolution"),__name(function(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData.call(config,config.transformResponse,reason.response),reason.response.headers=AxiosHeaders$1.from(reason.response.headers))),Promise.reject(reason)},"onAdapterRejection"))}__name(dispatchRequest,"dispatchRequest");const VERSION="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((type,i)=>{validators$1[type]=__name(function(thing){return typeof thing===type||"a"+(i<1?"n ":" ")+type},"validator")});const deprecatedWarnings={};validators$1.transitional=__name(function(validator2,version,message){function formatMessage(opt,desc){return"[Axios v"+VERSION+"] Transitional option '"+opt+"'"+desc+(message?". "+message:"")}return __name(formatMessage,"formatMessage"),(value,opt,opts)=>{if(validator2===!1)throw new AxiosError(formatMessage(opt," has been removed"+(version?" in "+version:"")),AxiosError.ERR_DEPRECATED);return version&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt," has been deprecated since v"+version+" and will be removed in the near future"))),validator2?validator2(value,opt,opts):!0}},"transitional"),validators$1.spelling=__name(function(correctSpelling){return(value,opt)=>(console.warn(`${opt} is likely a misspelling of ${correctSpelling}`),!0)},"spelling");function assertOptions(options,schema,allowUnknown){if(typeof options!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const keys=Object.keys(options);let i=keys.length;for(;i-- >0;){const opt=keys[i],validator2=schema[opt];if(validator2){const value=options[opt],result=value===void 0||validator2(value,opt,options);if(result!==!0)throw new AxiosError("option "+opt+" must be "+result,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(allowUnknown!==!0)throw new AxiosError("Unknown option "+opt,AxiosError.ERR_BAD_OPTION)}}__name(assertOptions,"assertOptions");var validator={assertOptions,validators:validators$1};const validators=validator.validators,_Axios=class _Axios{constructor(instanceConfig){this.defaults=instanceConfig||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(configOrUrl,config){try{return await this._request(configOrUrl,config)}catch(err){if(err instanceof Error){let dummy={};Error.captureStackTrace?Error.captureStackTrace(dummy):dummy=new Error;const stack=dummy.stack?dummy.stack.replace(/^.+\n/,""):"";try{err.stack?stack&&!String(err.stack).endsWith(stack.replace(/^.+\n.+\n/,""))&&(err.stack+=`
`+stack):err.stack=stack}catch{}}throw err}}_request(configOrUrl,config){typeof configOrUrl=="string"?(config=config||{},config.url=configOrUrl):config=configOrUrl||{},config=mergeConfig(this.defaults,config);const{transitional,paramsSerializer,headers}=config;transitional!==void 0&&validator.assertOptions(transitional,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),paramsSerializer!=null&&(utils$1.isFunction(paramsSerializer)?config.paramsSerializer={serialize:paramsSerializer}:validator.assertOptions(paramsSerializer,{encode:validators.function,serialize:validators.function},!0)),config.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?config.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:config.allowAbsoluteUrls=!0),validator.assertOptions(config,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),config.method=(config.method||this.defaults.method||"get").toLowerCase();let contextHeaders=headers&&utils$1.merge(headers.common,headers[config.method]);headers&&utils$1.forEach(["delete","get","head","post","put","patch","common"],method=>{delete headers[method]}),config.headers=AxiosHeaders$1.concat(contextHeaders,headers);const requestInterceptorChain=[];let synchronousRequestInterceptors=!0;this.interceptors.request.forEach(__name(function(interceptor){typeof interceptor.runWhen=="function"&&interceptor.runWhen(config)===!1||(synchronousRequestInterceptors=synchronousRequestInterceptors&&interceptor.synchronous,requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected))},"unshiftRequestInterceptors"));const responseInterceptorChain=[];this.interceptors.response.forEach(__name(function(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)},"pushResponseInterceptors"));let promise,i=0,len;if(!synchronousRequestInterceptors){const chain=[dispatchRequest.bind(this),void 0];for(chain.unshift(...requestInterceptorChain),chain.push(...responseInterceptorChain),len=chain.length,promise=Promise.resolve(config);i<len;)promise=promise.then(chain[i++],chain[i++]);return promise}len=requestInterceptorChain.length;let newConfig=config;for(;i<len;){const onFulfilled=requestInterceptorChain[i++],onRejected=requestInterceptorChain[i++];try{newConfig=onFulfilled(newConfig)}catch(error){onRejected.call(this,error);break}}try{promise=dispatchRequest.call(this,newConfig)}catch(error){return Promise.reject(error)}for(i=0,len=responseInterceptorChain.length;i<len;)promise=promise.then(responseInterceptorChain[i++],responseInterceptorChain[i++]);return promise}getUri(config){config=mergeConfig(this.defaults,config);const fullPath=buildFullPath(config.baseURL,config.url,config.allowAbsoluteUrls);return buildURL(fullPath,config.params,config.paramsSerializer)}};__name(_Axios,"Axios");let Axios=_Axios;utils$1.forEach(["delete","get","head","options"],__name(function(method){Axios.prototype[method]=function(url,config){return this.request(mergeConfig(config||{},{method,url,data:(config||{}).data}))}},"forEachMethodNoData")),utils$1.forEach(["post","put","patch"],__name(function(method){function generateHTTPMethod(isForm){return __name(function(url,data,config){return this.request(mergeConfig(config||{},{method,headers:isForm?{"Content-Type":"multipart/form-data"}:{},url,data}))},"httpMethod")}__name(generateHTTPMethod,"generateHTTPMethod"),Axios.prototype[method]=generateHTTPMethod(),Axios.prototype[method+"Form"]=generateHTTPMethod(!0)},"forEachMethodWithData"));var Axios$1=Axios;const _CancelToken=class _CancelToken{constructor(executor){if(typeof executor!="function")throw new TypeError("executor must be a function.");let resolvePromise;this.promise=new Promise(__name(function(resolve){resolvePromise=resolve},"promiseExecutor"));const token=this;this.promise.then(cancel=>{if(!token._listeners)return;let i=token._listeners.length;for(;i-- >0;)token._listeners[i](cancel);token._listeners=null}),this.promise.then=onfulfilled=>{let _resolve;const promise=new Promise(resolve=>{token.subscribe(resolve),_resolve=resolve}).then(onfulfilled);return promise.cancel=__name(function(){token.unsubscribe(_resolve)},"reject"),promise},executor(__name(function(message,config,request){token.reason||(token.reason=new CanceledError(message,config,request),resolvePromise(token.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(listener){if(this.reason){listener(this.reason);return}this._listeners?this._listeners.push(listener):this._listeners=[listener]}unsubscribe(listener){if(!this._listeners)return;const index=this._listeners.indexOf(listener);index!==-1&&this._listeners.splice(index,1)}toAbortSignal(){const controller=new AbortController,abort=__name(err=>{controller.abort(err)},"abort");return this.subscribe(abort),controller.signal.unsubscribe=()=>this.unsubscribe(abort),controller.signal}static source(){let cancel;return{token:new _CancelToken(__name(function(c){cancel=c},"executor")),cancel}}};__name(_CancelToken,"CancelToken");let CancelToken=_CancelToken;var CancelToken$1=CancelToken;function spread(callback){return __name(function(arr){return callback.apply(null,arr)},"wrap")}__name(spread,"spread");function isAxiosError(payload){return utils$1.isObject(payload)&&payload.isAxiosError===!0}__name(isAxiosError,"isAxiosError");const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode).forEach(([key,value])=>{HttpStatusCode[value]=key});var HttpStatusCode$1=HttpStatusCode;function createInstance(defaultConfig){const context=new Axios$1(defaultConfig),instance=bind(Axios$1.prototype.request,context);return utils$1.extend(instance,Axios$1.prototype,context,{allOwnKeys:!0}),utils$1.extend(instance,context,null,{allOwnKeys:!0}),instance.create=__name(function(instanceConfig){return createInstance(mergeConfig(defaultConfig,instanceConfig))},"create"),instance}__name(createInstance,"createInstance");const axios=createInstance(defaults$1);return axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=__name(function(promises){return Promise.all(promises)},"all"),axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=thing=>formDataToJSON(utils$1.isHTMLForm(thing)?new FormData(thing):thing),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios,axios_1=axios,axios_1}__name(requireAxios,"requireAxios");const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);var Utils={},Types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,Object.defineProperty(Types,"__esModule",{value:!0}),Types.arrayableParams=void 0,Types.arrayableParams={query_by:"query_by",query_by_weights:"query_by_weights",facet_by:"facet_by",group_by:"group_by",include_fields:"include_fields",exclude_fields:"exclude_fields",highlight_fields:"highlight_fields",highlight_full_fields:"highlight_full_fields",pinned_hits:"pinned_hits",hidden_hits:"hidden_hits",infix:"infix",override_tags:"override_tags",num_typos:"num_typos",prefix:"prefix",sort_by:"sort_by"}),Types}__name(requireTypes,"requireTypes");var hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return Utils;hasRequiredUtils=1,Object.defineProperty(Utils,"__esModule",{value:!0}),Utils.toErrorWithMessage=Utils.normalizeArrayableParams=void 0;var tslib_1=require$$0,Types_1=requireTypes();function hasNoArrayValues(params){return Object.keys(Types_1.arrayableParams).filter(function(key){return params[key]!==void 0}).every(function(key){return isNonArrayValue(params[key])})}__name(hasNoArrayValues,"hasNoArrayValues");function normalizeArrayableParams(params){var result=tslib_1.__assign({},params),transformedValues=Object.keys(Types_1.arrayableParams).filter(function(key){return Array.isArray(result[key])}).map(function(key){return result[key]=result[key].join(","),key});if(!transformedValues.length&&hasNoArrayValues(result))return result;if(!hasNoArrayValues(result))throw new Error("Failed to normalize arrayable params: ".concat(JSON.stringify(result)));return result}__name(normalizeArrayableParams,"normalizeArrayableParams"),Utils.normalizeArrayableParams=normalizeArrayableParams;function isNonArrayValue(value){return!Array.isArray(value)}__name(isNonArrayValue,"isNonArrayValue");function isErrorWithMessage(error){return typeof error=="object"&&error!==null&&"message"in error&&typeof error.message=="string"}__name(isErrorWithMessage,"isErrorWithMessage");function toErrorWithMessage(couldBeError){if(isErrorWithMessage(couldBeError))return couldBeError;try{return typeof couldBeError=="string"?new Error(couldBeError):new Error(JSON.stringify(couldBeError))}catch{return new Error(String(couldBeError))}}return __name(toErrorWithMessage,"toErrorWithMessage"),Utils.toErrorWithMessage=toErrorWithMessage,Utils}__name(requireUtils,"requireUtils");var hasRequiredApiCall;function requireApiCall(){if(hasRequiredApiCall)return ApiCall;hasRequiredApiCall=1,Object.defineProperty(ApiCall,"__esModule",{value:!0});var tslib_1=require$$0,axios_12=tslib_1.__importDefault(requireAxios()),http_1=require$$1,https_1=require$$1,Errors_1=requireErrors(),TypesenseError_1=tslib_1.__importDefault(requireTypesenseError()),Utils_1=requireUtils(),APIKEYHEADERNAME="X-TYPESENSE-API-KEY",HEALTHY=!0,UNHEALTHY=!1,isNodeJSEnvironment=typeof process<"u"&&process.versions!=null&&process.versions.node!=null&&typeof window>"u",ApiCall$1=(function(){function ApiCall2(configuration){this.configuration=configuration,this.apiKey=this.configuration.apiKey,this.nodes=this.configuration.nodes==null?this.configuration.nodes:JSON.parse(JSON.stringify(this.configuration.nodes)),this.nearestNode=this.configuration.nearestNode==null?this.configuration.nearestNode:JSON.parse(JSON.stringify(this.configuration.nearestNode)),this.connectionTimeoutSeconds=this.configuration.connectionTimeoutSeconds,this.healthcheckIntervalSeconds=this.configuration.healthcheckIntervalSeconds,this.numRetriesPerRequest=this.configuration.numRetries,this.retryIntervalSeconds=this.configuration.retryIntervalSeconds,this.sendApiKeyAsQueryParam=this.configuration.sendApiKeyAsQueryParam,this.additionalUserHeaders=this.configuration.additionalHeaders,this.logger=this.configuration.logger,this.initializeMetadataForNodes(),this.currentNodeIndex=-1}return __name(ApiCall2,"ApiCall"),ApiCall2.prototype.get=function(endpoint,queryParameters,_a7){queryParameters===void 0&&(queryParameters={});var _b=_a7===void 0?{}:_a7,_c=_b.abortSignal,abortSignal=_c===void 0?null:_c,_d=_b.responseType,responseType=_d===void 0?void 0:_d,_e=_b.streamConfig,streamConfig=_e===void 0?void 0:_e,isStreamingRequest=_b.isStreamingRequest;return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_f){return[2,this.performRequest("get",endpoint,{queryParameters,abortSignal,responseType,streamConfig,isStreamingRequest})]})})},ApiCall2.prototype.delete=function(endpoint,queryParameters){return queryParameters===void 0&&(queryParameters={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.performRequest("delete",endpoint,{queryParameters,isStreamingRequest:!1})]})})},ApiCall2.prototype.post=function(endpoint,bodyParameters,queryParameters,additionalHeaders,_a7){bodyParameters===void 0&&(bodyParameters={}),queryParameters===void 0&&(queryParameters={}),additionalHeaders===void 0&&(additionalHeaders={});var _b=_a7===void 0?{}:_a7,_c=_b.abortSignal,abortSignal=_c===void 0?null:_c,_d=_b.responseType,responseType=_d===void 0?void 0:_d,_e=_b.streamConfig,streamConfig=_e===void 0?void 0:_e,isStreamingRequest=_b.isStreamingRequest;return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_f){return[2,this.performRequest("post",endpoint,{queryParameters,bodyParameters,additionalHeaders,abortSignal,responseType,streamConfig,isStreamingRequest})]})})},ApiCall2.prototype.put=function(endpoint,bodyParameters,queryParameters){return bodyParameters===void 0&&(bodyParameters={}),queryParameters===void 0&&(queryParameters={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.performRequest("put",endpoint,{queryParameters,bodyParameters,isStreamingRequest:!1})]})})},ApiCall2.prototype.patch=function(endpoint,bodyParameters,queryParameters){return bodyParameters===void 0&&(bodyParameters={}),queryParameters===void 0&&(queryParameters={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.performRequest("patch",endpoint,{queryParameters,bodyParameters,isStreamingRequest:!1})]})})},ApiCall2.prototype.getAdapter=function(){if(this.configuration.axiosAdapter){if(typeof this.configuration.axiosAdapter=="function")return this.configuration.axiosAdapter;var isCloudflareWorkers=typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers";return isCloudflareWorkers?axios_12.default.getAdapter(this.configuration.axiosAdapter).bind(globalThis):axios_12.default.getAdapter(this.configuration.axiosAdapter)}},ApiCall2.prototype.performRequest=function(requestType,endpoint,_a7){var _b,_c,_d,_e,_f=_a7.queryParameters,queryParameters=_f===void 0?null:_f,_g=_a7.bodyParameters,bodyParameters=_g===void 0?null:_g,_h=_a7.additionalHeaders,additionalHeaders=_h===void 0?{}:_h,_j=_a7.abortSignal,abortSignal=_j===void 0?null:_j,_k=_a7.responseType,responseType=_k===void 0?void 0:_k,_l=_a7.skipConnectionTimeout,skipConnectionTimeout=_l===void 0?!1:_l,_m=_a7.enableKeepAlive,enableKeepAlive=_m===void 0?void 0:_m,_o=_a7.streamConfig,streamConfig=_o===void 0?void 0:_o,isStreamingRequest=_a7.isStreamingRequest;return tslib_1.__awaiter(this,void 0,void 0,function(){var requestNumber,lastException,wasAborted,_loop_1,this_1,numTries,state_1;return tslib_1.__generator(this,function(_p){switch(_p.label){case 0:this.configuration.validate(),isStreamingRequest&&(this.logger.debug("Request: Performing streaming request to ".concat(endpoint)),!isNodeJSEnvironment&&typeof fetch<"u"&&(this.logger.debug("Using fetch adapter for browser streaming"),responseType="stream")),requestNumber=Date.now(),wasAborted=!1,this.logger.debug("Request #".concat(requestNumber,": Performing ").concat(requestType.toUpperCase()," request: ").concat(endpoint)),_loop_1=__name(function(numTries2){var node,abortListener,requestOptions,cancelToken,source_1,response,error_1;return tslib_1.__generator(this,function(_q){switch(_q.label){case 0:if(node=this_1.getNextNode(requestNumber),this_1.logger.debug("Request #".concat(requestNumber,": Attempting ").concat(requestType.toUpperCase()," request Try #").concat(numTries2," to Node ").concat(node.index)),abortSignal&&abortSignal.aborted)return[2,{value:Promise.reject(new Error("Request aborted by caller."))}];abortListener=void 0,_q.label=1;case 1:return _q.trys.push([1,3,5,6]),requestOptions={method:requestType,url:this_1.uriFor(endpoint,node),headers:Object.assign({},this_1.defaultHeaders(),additionalHeaders,this_1.additionalUserHeaders),maxContentLength:1/0,maxBodyLength:1/0,validateStatus:__name(function(status){return status>0},"validateStatus"),transformResponse:[function(data,headers){var transformedData=data;return headers!==void 0&&typeof data=="string"&&headers["content-type"]&&headers["content-type"].startsWith("application/json")&&(transformedData=JSON.parse(data)),transformedData}]},requestOptions.adapter=isStreamingRequest&&!isNodeJSEnvironment?"fetch":this_1.getAdapter(),skipConnectionTimeout!==!0&&(requestOptions.timeout=this_1.connectionTimeoutSeconds*1e3),queryParameters&&Object.keys(queryParameters).length!==0&&(requestOptions.params=queryParameters),this_1.sendApiKeyAsQueryParam&&(requestOptions.params=requestOptions.params||{},requestOptions.params["x-typesense-api-key"]=this_1.apiKey),this_1.configuration.httpAgent?(this_1.logger.debug("Request #".concat(requestNumber,": Using custom httpAgent")),requestOptions.httpAgent=this_1.configuration.httpAgent):enableKeepAlive===!0&&(isNodeJSEnvironment?(this_1.logger.debug("Request #".concat(requestNumber,": Enabling KeepAlive")),requestOptions.httpAgent=new http_1.Agent({keepAlive:!0})):this_1.logger.warn("Request #".concat(requestNumber,": Cannot use custom httpAgent in a browser environment to enable keepAlive"))),this_1.configuration.httpsAgent?(this_1.logger.debug("Request #".concat(requestNumber,": Using custom httpsAgent")),requestOptions.httpsAgent=this_1.configuration.httpsAgent):enableKeepAlive===!0&&(isNodeJSEnvironment?(this_1.logger.debug("Request #".concat(requestNumber,": Enabling keepAlive")),requestOptions.httpsAgent=new https_1.Agent({keepAlive:!0})):this_1.logger.warn("Request #".concat(requestNumber,": Cannot use custom httpAgent in a browser environment to enable keepAlive"))),this_1.configuration.paramsSerializer&&(this_1.logger.debug("Request #".concat(requestNumber,": Using custom paramsSerializer")),requestOptions.paramsSerializer=this_1.configuration.paramsSerializer),bodyParameters&&(typeof bodyParameters=="string"&&bodyParameters.length!==0||typeof bodyParameters=="object"&&Object.keys(bodyParameters).length!==0)&&(requestOptions.data=bodyParameters),abortSignal&&(cancelToken=axios_12.default.CancelToken,source_1=cancelToken.source(),abortListener=__name(function(){wasAborted=!0,source_1.cancel()},"abortListener"),abortSignal.addEventListener("abort",abortListener),requestOptions.cancelToken=source_1.token),isStreamingRequest?(requestOptions.responseType="stream",isNodeJSEnvironment||(requestOptions.headers=tslib_1.__assign(tslib_1.__assign({},requestOptions.headers),{Accept:"text/event-stream"}))):responseType&&(requestOptions.responseType=responseType),[4,(0,axios_12.default)(requestOptions)];case 2:if(response=_q.sent(),response.status>=1&&response.status<=499&&this_1.setNodeHealthcheck(node,HEALTHY),this_1.logger.debug("Request #".concat(requestNumber,": Request to Node ").concat(node.index," was made. Response Code was ").concat(response.status,".")),response.status>=200&&response.status<300)return isStreamingRequest?[2,{value:this_1.handleStreamingResponse(response,streamConfig)}]:[2,{value:Promise.resolve(response.data)}];if(response.status<500)return[2,{value:Promise.reject(this_1.customErrorForResponse(response,(_b=response.data)===null||_b===void 0?void 0:_b.message,requestOptions.data))}];throw this_1.customErrorForResponse(response,(_c=response.data)===null||_c===void 0?void 0:_c.message,requestOptions.data);case 3:if(error_1=_q.sent(),wasAborted||this_1.setNodeHealthcheck(node,UNHEALTHY),lastException=error_1,this_1.logger.warn("Request #".concat(requestNumber,": Request to Node ").concat(node.index,' failed due to "').concat((_d=error_1?.code)!==null&&_d!==void 0?_d:""," ").concat(error_1.message).concat(error_1.response==null?"":" - "+JSON.stringify((_e=error_1.response)===null||_e===void 0?void 0:_e.data),'"')),wasAborted)return[2,{value:Promise.reject(new Error("Request aborted by caller."))}];if(isStreamingRequest&&this_1.invokeOnErrorCallback(error_1,streamConfig),numTries2<this_1.numRetriesPerRequest+1)this_1.logger.warn("Request #".concat(requestNumber,": Sleeping for ").concat(this_1.retryIntervalSeconds,"s and then retrying request..."));else return this_1.logger.debug("Request #".concat(requestNumber,": No retries left. Raising last error")),[2,{value:Promise.reject(lastException)}];return[4,this_1.timer(this_1.retryIntervalSeconds)];case 4:return _q.sent(),[3,6];case 5:return abortSignal&&abortListener&&abortSignal.removeEventListener("abort",abortListener),[7];case 6:return[2]}})},"_loop_1"),this_1=this,numTries=1,_p.label=1;case 1:return numTries<=this.numRetriesPerRequest+1?[5,_loop_1(numTries)]:[3,4];case 2:if(state_1=_p.sent(),typeof state_1=="object")return[2,state_1.value];_p.label=3;case 3:return numTries++,[3,1];case 4:return this.logger.debug("Request #".concat(requestNumber,": No retries left. Raising last error")),[2,Promise.reject(lastException)]}})})},ApiCall2.prototype.processStreamingLine=function(line){if(!line.trim()||line==="data: [DONE]")return null;if(line.startsWith("data: "))return this.processDataLine(line.slice(6).trim());if(line.trim().startsWith("{"))try{var jsonData=JSON.parse(line.trim());return jsonData&&typeof jsonData=="object"?(jsonData.conversation_id||(jsonData.conversation_id="unknown"),!jsonData.message&&jsonData.message!==""&&(jsonData.message=""),jsonData):{conversation_id:"unknown",message:JSON.stringify(jsonData)}}catch{return{conversation_id:"unknown",message:line.trim()}}return{conversation_id:"unknown",message:line.trim()}},ApiCall2.prototype.processDataLine=function(dataContent){if(!dataContent)return null;if(dataContent.startsWith("{"))try{var jsonData=JSON.parse(dataContent);return jsonData&&typeof jsonData=="object"?(jsonData.conversation_id||(jsonData.conversation_id="unknown"),!jsonData.message&&jsonData.message!==""&&(jsonData.message=""),jsonData):{conversation_id:"unknown",message:JSON.stringify(jsonData)}}catch{return{conversation_id:"unknown",message:dataContent}}return{conversation_id:"unknown",message:dataContent}},ApiCall2.prototype.handleStreamingResponse=function(response,streamConfig){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return this.logger.debug("Handling streaming response. Environment: ".concat(isNodeJSEnvironment?"Node.js":"Browser")),isNodeJSEnvironment&&response.data?[2,this.handleNodeStreaming(response,streamConfig)]:isNodeJSEnvironment?(this.logger.debug("Processing non-streaming response"),this.invokeOnCompleteCallback(response.data,streamConfig),[2,Promise.resolve(response.data)]):[2,this.handleBrowserStreaming(response,streamConfig)]})})},ApiCall2.prototype.handleNodeStreaming=function(response,streamConfig){var _this=this;return this.logger.debug("Processing Node.js stream"),new Promise(function(resolve,reject){var stream=response.data,allChunks=[],buffer="";stream.on("data",function(chunk){var _a7;try{var data=chunk.toString();buffer+=data;var lines=buffer.split(`
`);buffer=(_a7=lines.pop())!==null&&_a7!==void 0?_a7:"",_this.processStreamLines(lines,allChunks,streamConfig)}catch(error){reject(error)}}),stream.on("end",function(){if(buffer.trim().length>0){var lines=buffer.split(`
`);_this.processStreamLines(lines,allChunks,streamConfig)}_this.finalizeStreamResult(allChunks,resolve,response,streamConfig)}),stream.on("error",function(error){_this.logger.error("Stream error: ".concat(error)),_this.invokeOnErrorCallback(error,streamConfig),reject(error)})})},ApiCall2.prototype.handleBrowserStreaming=function(response,streamConfig){var _this=this;return this.logger.debug("Processing browser stream"),new Promise(function(resolve,reject){return tslib_1.__awaiter(_this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){try{return response.data&&typeof response.data.getReader=="function"?[2,this.handleBrowserReadableStream(response.data,resolve,reject,response,streamConfig)]:typeof response.data=="string"?[2,this.handleBrowserStringResponse(response.data,resolve,response,streamConfig)]:typeof response.data=="object"&&response.data!==null?(this.logger.debug("No stream found, but data object is available"),this.invokeOnCompleteCallback(response.data,streamConfig),[2,resolve(response.data)]):(this.logger.error("No usable data found in response"),[2,reject(new Error("No usable data found in response"))])}catch(error){this.logger.error("Error processing streaming response: ".concat(error)),this.invokeOnErrorCallback(error,streamConfig),reject(error)}return[2]})})})},ApiCall2.prototype.handleBrowserReadableStream=function(stream,resolve,reject,response,streamConfig){return tslib_1.__awaiter(this,void 0,void 0,function(){var reader,allChunks,buffer,_a7,done,value,lines_1,chunk,lines,error_2;return tslib_1.__generator(this,function(_b){switch(_b.label){case 0:this.logger.debug("Found ReadableStream in response.data"),reader=stream.getReader(),allChunks=[],buffer="",_b.label=1;case 1:_b.trys.push([1,5,,6]),_b.label=2;case 2:return[4,reader.read()];case 3:return _a7=_b.sent(),done=_a7.done,value=_a7.value,done?(this.logger.debug("Stream reading complete"),buffer.trim()&&(lines_1=buffer.split(`
`),this.processStreamLines(lines_1,allChunks,streamConfig)),[3,4]):(chunk=new TextDecoder().decode(value),this.logger.debug("Received chunk: ".concat(chunk.length," bytes")),buffer+=chunk,lines=buffer.split(`
`),buffer=lines.pop()||"",this.processStreamLines(lines,allChunks,streamConfig),[3,2]);case 4:return this.finalizeStreamResult(allChunks,resolve,response,streamConfig),[3,6];case 5:return error_2=_b.sent(),this.logger.error("Stream error: ".concat(error_2)),this.invokeOnErrorCallback(error_2,streamConfig),reject(error_2),[3,6];case 6:return[2]}})})},ApiCall2.prototype.handleBrowserStringResponse=function(data,resolve,response,streamConfig){this.logger.debug("Processing text response as stream data");var allChunks=[],lines=data.split(`
`);if(this.processStreamLines(lines,allChunks,streamConfig),allChunks.length>0){var finalResult=this.combineStreamingChunks(allChunks);this.invokeOnCompleteCallback(finalResult,streamConfig),resolve(finalResult)}else this.logger.debug("No chunks processed, returning original API response"),this.invokeOnCompleteCallback(response.data,streamConfig),resolve(response.data)},ApiCall2.prototype.processStreamLines=function(lines,allChunks,streamConfig){for(var _i=0,lines_2=lines;_i<lines_2.length;_i++){var line=lines_2[_i];if(line.trim()&&line!=="data: [DONE]"){var processed=this.processStreamingLine(line);processed!==null&&(this.invokeOnChunkCallback(processed,streamConfig),allChunks.push(processed))}}},ApiCall2.prototype.finalizeStreamResult=function(allChunks,resolve,response,streamConfig){if(allChunks.length>0){var finalResult=this.combineStreamingChunks(allChunks);this.logger.debug("Stream processing complete"),this.invokeOnCompleteCallback(finalResult,streamConfig),resolve(finalResult)}else this.logger.debug("No chunks processed, returning original API response"),this.invokeOnCompleteCallback(response.data,streamConfig),resolve(response.data)},ApiCall2.prototype.combineStreamingChunks=function(chunks){if(chunks.length===0)return{};if(chunks.length===1)return chunks[0];var messagesChunks=this.getMessageChunks(chunks);if(messagesChunks.length>0)return this.combineMessageChunks(chunks,messagesChunks);var lastChunk=chunks[chunks.length-1];if(!this.isCompleteSearchResponse(lastChunk))throw new Error("Last chunk is not a complete search response");return lastChunk},ApiCall2.prototype.getMessageChunks=function(chunks){return chunks.filter(this.isChunkMessage)},ApiCall2.prototype.isChunkMessage=function(chunk){return typeof chunk=="object"&&chunk!==null&&"message"in chunk&&"conversation_id"in chunk},ApiCall2.prototype.combineMessageChunks=function(chunks,messagesChunks){this.logger.debug("Found ".concat(messagesChunks.length," message chunks to combine"));var lastChunk=chunks[chunks.length-1];if(this.isCompleteSearchResponse(lastChunk))return lastChunk;var metadataChunk=chunks.find(this.isCompleteSearchResponse);if(!metadataChunk)throw new Error("No metadata chunk found");return metadataChunk},ApiCall2.prototype.isCompleteSearchResponse=function(chunk){return typeof chunk=="object"&&chunk!==null&&Object.keys(chunk).length>0?"results"in chunk||"found"in chunk||"hits"in chunk||"page"in chunk||"search_time_ms"in chunk:!1},ApiCall2.prototype.getNextNode=function(requestNumber){if(requestNumber===void 0&&(requestNumber=0),this.nearestNode!=null){if(this.logger.debug("Request #".concat(requestNumber,": Nodes Health: Node ").concat(this.nearestNode.index," is ").concat(this.nearestNode.isHealthy===!0?"Healthy":"Unhealthy")),this.nearestNode.isHealthy===!0||this.nodeDueForHealthcheck(this.nearestNode,requestNumber))return this.logger.debug("Request #".concat(requestNumber,": Updated current node to Node ").concat(this.nearestNode.index)),this.nearestNode;this.logger.debug("Request #".concat(requestNumber,": Falling back to individual nodes"))}this.logger.debug("Request #".concat(requestNumber,": Nodes Health: ").concat(this.nodes.map(function(node){return"Node ".concat(node.index," is ").concat(node.isHealthy===!0?"Healthy":"Unhealthy")}).join(" || ")));for(var candidateNode=this.nodes[0],i=0;i<=this.nodes.length;i++)if(this.currentNodeIndex=(this.currentNodeIndex+1)%this.nodes.length,candidateNode=this.nodes[this.currentNodeIndex],candidateNode.isHealthy===!0||this.nodeDueForHealthcheck(candidateNode,requestNumber))return this.logger.debug("Request #".concat(requestNumber,": Updated current node to Node ").concat(candidateNode.index)),candidateNode;return this.logger.debug("Request #".concat(requestNumber,": No healthy nodes were found. Returning the next node, Node ").concat(candidateNode.index)),candidateNode},ApiCall2.prototype.nodeDueForHealthcheck=function(node,requestNumber){requestNumber===void 0&&(requestNumber=0);var isDueForHealthcheck=Date.now()-node.lastAccessTimestamp>this.healthcheckIntervalSeconds*1e3;return isDueForHealthcheck&&this.logger.debug("Request #".concat(requestNumber,": Node ").concat(node.index," has exceeded healtcheckIntervalSeconds of ").concat(this.healthcheckIntervalSeconds,". Adding it back into rotation.")),isDueForHealthcheck},ApiCall2.prototype.initializeMetadataForNodes=function(){var _this=this;this.nearestNode!=null&&(this.nearestNode.index="nearestNode",this.setNodeHealthcheck(this.nearestNode,HEALTHY)),this.nodes.forEach(function(node,i){node.index=i,_this.setNodeHealthcheck(node,HEALTHY)})},ApiCall2.prototype.setNodeHealthcheck=function(node,isHealthy){node.isHealthy=isHealthy,node.lastAccessTimestamp=Date.now()},ApiCall2.prototype.uriFor=function(endpoint,node){return node.url!=null?"".concat(node.url).concat(endpoint):"".concat(node.protocol,"://").concat(node.host,":").concat(node.port).concat(node.path).concat(endpoint)},ApiCall2.prototype.defaultHeaders=function(){var defaultHeaders={};return this.sendApiKeyAsQueryParam||(defaultHeaders[APIKEYHEADERNAME]=this.apiKey),defaultHeaders["Content-Type"]="application/json",defaultHeaders},ApiCall2.prototype.timer=function(seconds){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,new Promise(function(resolve){return setTimeout(resolve,seconds*1e3)})]})})},ApiCall2.prototype.customErrorForResponse=function(response,messageFromServer,httpBody){var errorMessage="Request failed with HTTP code ".concat(response.status);typeof messageFromServer=="string"&&messageFromServer.trim()!==""&&(errorMessage+=" | Server said: ".concat(messageFromServer));var error=new TypesenseError_1.default(errorMessage,httpBody,response.status);return response.status===400?error=new Errors_1.RequestMalformed(errorMessage,httpBody,response.status):response.status===401?error=new Errors_1.RequestUnauthorized(errorMessage,httpBody,response.status):response.status===404?error=new Errors_1.ObjectNotFound(errorMessage,httpBody,response.status):response.status===409?error=new Errors_1.ObjectAlreadyExists(errorMessage,httpBody,response.status):response.status===422?error=new Errors_1.ObjectUnprocessable(errorMessage,httpBody,response.status):response.status>=500&&response.status<=599?error=new Errors_1.ServerError(errorMessage,httpBody,response.status):error=new Errors_1.HTTPError(errorMessage,httpBody,response.status),error},ApiCall2.prototype.invokeOnChunkCallback=function(data,streamConfig){if(streamConfig?.onChunk)try{streamConfig.onChunk(data)}catch(error){this.logger.warn("Error in onChunk callback: ".concat(error))}},ApiCall2.prototype.invokeOnCompleteCallback=function(data,streamConfig){if(streamConfig?.onComplete)try{streamConfig.onComplete(data)}catch(error){this.logger.warn("Error in onComplete callback: ".concat(error))}},ApiCall2.prototype.invokeOnErrorCallback=function(error,streamConfig){if(streamConfig?.onError){var errorObj=(0,Utils_1.toErrorWithMessage)(error);try{streamConfig.onError(errorObj)}catch(callbackError){this.logger.warn("Error in onError callback: ".concat(callbackError))}}},ApiCall2})();return ApiCall.default=ApiCall$1,ApiCall}__name(requireApiCall,"requireApiCall");var Collections={},hasRequiredCollections;function requireCollections(){if(hasRequiredCollections)return Collections;hasRequiredCollections=1,Object.defineProperty(Collections,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/collections",Collections$1=(function(){function Collections2(apiCall){this.apiCall=apiCall}return __name(Collections2,"Collections"),Collections2.prototype.create=function(schema,options){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.post(RESOURCEPATH,schema,options)]})})},Collections2.prototype.retrieve=function(options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH,options)]})})},Object.defineProperty(Collections2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Collections2})();return Collections.default=Collections$1,Collections}__name(requireCollections,"requireCollections");var Collection={},Documents={},SearchOnlyDocuments={},RequestWithCache={},hasRequiredRequestWithCache;function requireRequestWithCache(){if(hasRequiredRequestWithCache)return RequestWithCache;hasRequiredRequestWithCache=1,Object.defineProperty(RequestWithCache,"__esModule",{value:!0});var tslib_1=require$$0,defaultCacheResponseForSeconds=120,defaultMaxSize=100,RequestWithCache$1=(function(){function RequestWithCache2(){this.responseCache=new Map,this.responsePromiseCache=new Map}return __name(RequestWithCache2,"RequestWithCache"),RequestWithCache2.prototype.clearCache=function(){this.responseCache=new Map,this.responsePromiseCache=new Map},RequestWithCache2.prototype.perform=function(requestContext,methodName,requestParams,cacheOptions){return tslib_1.__awaiter(this,void 0,void 0,function(){var _a7,_b,cacheResponseForSeconds,_c,maxSize,isCacheDisabled,path,queryParams,body,headers,streamConfig,abortSignal,responseType,isStreamingRequest,requestParamsJSON,cacheEntry,now,isEntryValid,cachePromiseEntry,isEntryValid,responsePromise,response,isCacheOverMaxSize,oldestEntry,isResponsePromiseCacheOverMaxSize,oldestEntry;return tslib_1.__generator(this,function(_d){switch(_d.label){case 0:if(_a7=cacheOptions||{},_b=_a7.cacheResponseForSeconds,cacheResponseForSeconds=_b===void 0?defaultCacheResponseForSeconds:_b,_c=_a7.maxSize,maxSize=_c===void 0?defaultMaxSize:_c,isCacheDisabled=cacheOptions===void 0||cacheResponseForSeconds<=0||maxSize<=0,path=requestParams.path,queryParams=requestParams.queryParams,body=requestParams.body,headers=requestParams.headers,streamConfig=requestParams.streamConfig,abortSignal=requestParams.abortSignal,responseType=requestParams.responseType,isStreamingRequest=requestParams.isStreamingRequest,isCacheDisabled)return[2,this.executeRequest(requestContext,methodName,path,queryParams,body,headers,{abortSignal,responseType,streamConfig,isStreamingRequest})];if(requestParamsJSON=JSON.stringify(requestParams),cacheEntry=this.responseCache.get(requestParamsJSON),now=Date.now(),cacheEntry){if(isEntryValid=now-cacheEntry.requestTimestamp<cacheResponseForSeconds*1e3,isEntryValid)return this.responseCache.delete(requestParamsJSON),this.responseCache.set(requestParamsJSON,cacheEntry),[2,cacheEntry.response];this.responseCache.delete(requestParamsJSON)}if(cachePromiseEntry=this.responsePromiseCache.get(requestParamsJSON),cachePromiseEntry){if(isEntryValid=now-cachePromiseEntry.requestTimestamp<cacheResponseForSeconds*1e3,isEntryValid)return this.responsePromiseCache.delete(requestParamsJSON),this.responsePromiseCache.set(requestParamsJSON,cachePromiseEntry),[2,cachePromiseEntry.responsePromise];this.responsePromiseCache.delete(requestParamsJSON)}return responsePromise=this.executeRequest(requestContext,methodName,path,queryParams,body,headers,{abortSignal,responseType,streamConfig,isStreamingRequest}),this.responsePromiseCache.set(requestParamsJSON,{requestTimestamp:now,responsePromise}),[4,responsePromise];case 1:return response=_d.sent(),this.responseCache.set(requestParamsJSON,{requestTimestamp:now,response}),isCacheOverMaxSize=this.responseCache.size>maxSize,isCacheOverMaxSize&&(oldestEntry=this.responseCache.keys().next().value,oldestEntry&&this.responseCache.delete(oldestEntry)),isResponsePromiseCacheOverMaxSize=this.responsePromiseCache.size>maxSize,isResponsePromiseCacheOverMaxSize&&(oldestEntry=this.responsePromiseCache.keys().next().value,oldestEntry&&this.responsePromiseCache.delete(oldestEntry)),[2,response]}})})},RequestWithCache2.prototype.executeRequest=function(context,methodName,path,queryParams,body,headers,options){queryParams===void 0&&(queryParams={});var method=context[methodName];switch(methodName){case"get":return method.call(context,path,queryParams,{abortSignal:options?.abortSignal,responseType:options?.responseType,streamConfig:options?.streamConfig,isStreamingRequest:options?.isStreamingRequest});case"delete":return method.call(context,path,queryParams);case"post":return method.call(context,path,body,queryParams,headers||{},{abortSignal:options?.abortSignal,responseType:options?.responseType,streamConfig:options?.streamConfig,isStreamingRequest:options?.isStreamingRequest});case"put":case"patch":return method.call(context,path,body,queryParams);default:throw new Error("Unsupported method: ".concat(String(methodName)))}},RequestWithCache2})();return RequestWithCache.default=RequestWithCache$1,RequestWithCache}__name(requireRequestWithCache,"requireRequestWithCache");var hasRequiredSearchOnlyDocuments;function requireSearchOnlyDocuments(){if(hasRequiredSearchOnlyDocuments)return SearchOnlyDocuments;hasRequiredSearchOnlyDocuments=1,Object.defineProperty(SearchOnlyDocuments,"__esModule",{value:!0}),SearchOnlyDocuments.SearchOnlyDocuments=void 0;var tslib_1=require$$0,RequestWithCache_1=tslib_1.__importDefault(requireRequestWithCache()),Collections_1=tslib_1.__importDefault(requireCollections()),Utils_1=requireUtils(),RESOURCEPATH="/documents",SearchOnlyDocuments$1=(function(){function SearchOnlyDocuments2(collectionName,apiCall,configuration){this.collectionName=collectionName,this.apiCall=apiCall,this.configuration=configuration,this.requestWithCache=new RequestWithCache_1.default}return __name(SearchOnlyDocuments2,"SearchOnlyDocuments"),SearchOnlyDocuments2.prototype.clearCache=function(){this.requestWithCache.clearCache()},SearchOnlyDocuments2.prototype.search=function(searchParameters,_a7){var _b=_a7===void 0?{}:_a7,_c=_b.cacheSearchResultsForSeconds,cacheSearchResultsForSeconds=_c===void 0?this.configuration.cacheSearchResultsForSeconds:_c,_d=_b.abortSignal,abortSignal=_d===void 0?null:_d;return tslib_1.__awaiter(this,void 0,void 0,function(){var additionalQueryParams,_e,streamConfig,rest,queryParams,isStreamingRequest;return tslib_1.__generator(this,function(_f){return additionalQueryParams={},this.configuration.useServerSideSearchCache===!0&&(additionalQueryParams.use_cache=!0),_e=(0,Utils_1.normalizeArrayableParams)(searchParameters),streamConfig=_e.streamConfig,rest=tslib_1.__rest(_e,["streamConfig"]),queryParams=tslib_1.__assign(tslib_1.__assign({},additionalQueryParams),rest),isStreamingRequest=queryParams.conversation_stream===!0,[2,this.requestWithCache.perform(this.apiCall,"get",{path:this.endpointPath("search"),queryParams,streamConfig,abortSignal,isStreamingRequest},{cacheResponseForSeconds:cacheSearchResultsForSeconds})]})})},SearchOnlyDocuments2.prototype.endpointPath=function(operation){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(RESOURCEPATH).concat(operation===void 0?"":"/"+operation)},Object.defineProperty(SearchOnlyDocuments2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),SearchOnlyDocuments2})();return SearchOnlyDocuments.SearchOnlyDocuments=SearchOnlyDocuments$1,SearchOnlyDocuments}__name(requireSearchOnlyDocuments,"requireSearchOnlyDocuments");var hasRequiredDocuments;function requireDocuments(){if(hasRequiredDocuments)return Documents;hasRequiredDocuments=1,Object.defineProperty(Documents,"__esModule",{value:!0});var tslib_1=require$$0,Errors_1=requireErrors(),SearchOnlyDocuments_1=requireSearchOnlyDocuments(),isNodeJSEnvironment=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,Documents$1=(function(_super){tslib_1.__extends(Documents2,_super);function Documents2(collectionName,apiCall,configuration){return _super.call(this,collectionName,apiCall,configuration)||this}return __name(Documents2,"Documents"),Documents2.prototype.create=function(document2,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){if(!document2)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),document2,options)]})})},Documents2.prototype.upsert=function(document2,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){if(!document2)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),document2,Object.assign({},options,{action:"upsert"}))]})})},Documents2.prototype.update=function(document2,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){if(!document2)throw new Error("No document provided");return options.filter_by!=null?[2,this.apiCall.patch(this.endpointPath(),document2,Object.assign({},options))]:[2,this.apiCall.post(this.endpointPath(),document2,Object.assign({},options,{action:"update"}))]})})},Documents2.prototype.delete=function(query){return query===void 0&&(query={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath(),query)]})})},Documents2.prototype.createMany=function(documents,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return this.configuration.logger.warn("createMany is deprecated and will be removed in a future version. Use import instead, which now takes both an array of documents or a JSONL string of documents"),[2,this.import(documents,options)]})})},Documents2.prototype.import=function(documents,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){var finalOptions,documentsInJSONLFormat,resultsInJSONLFormat,resultsInJSONFormat,failedItems;return tslib_1.__generator(this,function(_a7){switch(_a7.label){case 0:if(finalOptions=tslib_1.__assign({throwOnFail:!0},options),Array.isArray(documents)){if(documents.length===0)throw new Errors_1.RequestMalformed("No documents provided");try{documentsInJSONLFormat=documents.map(function(document2){return JSON.stringify(document2)}).join(`
`)}catch(error){throw error instanceof RangeError&&error.message.includes("Too many properties to enumerate")?new Error("".concat(error,`
          It looks like you have reached a Node.js limit that restricts the number of keys in an Object: https://stackoverflow.com/questions/9282869/are-there-limits-to-the-number-of-properties-in-a-javascript-object

         Please try reducing the number of keys in your document, or using CURL to import your data.
          `)):new Error(error)}}else if(documentsInJSONLFormat=documents,isEmptyString(documentsInJSONLFormat))throw new Errors_1.RequestMalformed("No documents provided");return[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:finalOptions,bodyParameters:documentsInJSONLFormat,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0,enableKeepAlive:!!isNodeJSEnvironment})];case 1:if(resultsInJSONLFormat=_a7.sent(),Array.isArray(documents)){if(resultsInJSONFormat=resultsInJSONLFormat.split(`
`).map(function(r){return JSON.parse(r)}),failedItems=resultsInJSONFormat.filter(function(r){return r.success===!1}),failedItems.length>0&&finalOptions.throwOnFail)throw new Errors_1.ImportError("".concat(resultsInJSONFormat.length-failedItems.length," documents imported successfully, ").concat(failedItems.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),resultsInJSONFormat,{documentsInJSONLFormat,options:finalOptions,failedItems,successCount:resultsInJSONFormat.length-failedItems.length});return[2,resultsInJSONFormat]}else return[2,resultsInJSONLFormat]}})})},Documents2.prototype.importStream=function(readableStream,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){var finalOptions,resultsInJSONLFormat,resultsInJSONFormat,failedItems;return tslib_1.__generator(this,function(_a7){switch(_a7.label){case 0:return finalOptions=tslib_1.__assign({throwOnFail:!0},options),[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:finalOptions,bodyParameters:readableStream,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0,enableKeepAlive:!!isNodeJSEnvironment})];case 1:if(resultsInJSONLFormat=_a7.sent(),resultsInJSONFormat=resultsInJSONLFormat.split(`
`).map(function(r){return JSON.parse(r)}),failedItems=resultsInJSONFormat.filter(function(r){return r.success===!1}),failedItems.length>0&&finalOptions.throwOnFail)throw new Errors_1.ImportError("".concat(resultsInJSONFormat.length-failedItems.length," documents imported successfully, ").concat(failedItems.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),resultsInJSONFormat,{documentsInJSONLFormat:readableStream,options:finalOptions,failedItems,successCount:resultsInJSONFormat.length-failedItems.length});return[2,resultsInJSONFormat]}})})},Documents2.prototype.export=function(options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath("export"),options)]})})},Documents2.prototype.exportStream=function(options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath("export"),options,{responseType:"stream"})]})})},Documents2})(SearchOnlyDocuments_1.SearchOnlyDocuments);Documents.default=Documents$1;function isEmptyString(str){return str==null||str===""||str.length===0}return __name(isEmptyString,"isEmptyString"),Documents}__name(requireDocuments,"requireDocuments");var Overrides={},hasRequiredOverrides;function requireOverrides(){if(hasRequiredOverrides)return Overrides;hasRequiredOverrides=1,Object.defineProperty(Overrides,"__esModule",{value:!0});var tslib_1=require$$0,Collections_1=tslib_1.__importDefault(requireCollections()),RESOURCEPATH="/overrides",Overrides$1=(function(){function Overrides2(collectionName,apiCall){this.collectionName=collectionName,this.apiCall=apiCall}return __name(Overrides2,"Overrides"),Overrides2.prototype.upsert=function(overrideId,params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(overrideId),params)]})})},Overrides2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Overrides2.prototype.endpointPath=function(operation){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(this.collectionName).concat(Overrides2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(Overrides2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Overrides2})();return Overrides.default=Overrides$1,Overrides}__name(requireOverrides,"requireOverrides");var Override={},hasRequiredOverride;function requireOverride(){if(hasRequiredOverride)return Override;hasRequiredOverride=1,Object.defineProperty(Override,"__esModule",{value:!0});var tslib_1=require$$0,Collections_1=tslib_1.__importDefault(requireCollections()),Overrides_1=tslib_1.__importDefault(requireOverrides()),Override$1=(function(){function Override2(collectionName,overrideId,apiCall){this.collectionName=collectionName,this.overrideId=overrideId,this.apiCall=apiCall}return __name(Override2,"Override"),Override2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Override2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Override2.prototype.endpointPath=function(){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(Overrides_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.overrideId))},Override2})();return Override.default=Override$1,Override}__name(requireOverride,"requireOverride");var Synonyms={},hasRequiredSynonyms;function requireSynonyms(){if(hasRequiredSynonyms)return Synonyms;hasRequiredSynonyms=1,Object.defineProperty(Synonyms,"__esModule",{value:!0});var tslib_1=require$$0,Collections_1=tslib_1.__importDefault(requireCollections()),RESOURCEPATH="/synonyms",Synonyms$1=(function(){function Synonyms2(collectionName,apiCall){this.collectionName=collectionName,this.apiCall=apiCall}return __name(Synonyms2,"Synonyms"),Synonyms2.prototype.upsert=function(synonymId,params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(synonymId),params)]})})},Synonyms2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Synonyms2.prototype.endpointPath=function(operation){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(Synonyms2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(Synonyms2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Synonyms2})();return Synonyms.default=Synonyms$1,Synonyms}__name(requireSynonyms,"requireSynonyms");var Synonym={},hasRequiredSynonym;function requireSynonym(){if(hasRequiredSynonym)return Synonym;hasRequiredSynonym=1,Object.defineProperty(Synonym,"__esModule",{value:!0});var tslib_1=require$$0,Collections_1=tslib_1.__importDefault(requireCollections()),Synonyms_1=tslib_1.__importDefault(requireSynonyms()),Synonym$1=(function(){function Synonym2(collectionName,synonymId,apiCall){this.collectionName=collectionName,this.synonymId=synonymId,this.apiCall=apiCall}return __name(Synonym2,"Synonym"),Synonym2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Synonym2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Synonym2.prototype.endpointPath=function(){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(Synonyms_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.synonymId))},Synonym2})();return Synonym.default=Synonym$1,Synonym}__name(requireSynonym,"requireSynonym");var Document={},hasRequiredDocument;function requireDocument(){if(hasRequiredDocument)return Document;hasRequiredDocument=1,Object.defineProperty(Document,"__esModule",{value:!0}),Document.Document=void 0;var tslib_1=require$$0,Collections_1=tslib_1.__importDefault(requireCollections()),Documents_1=tslib_1.__importDefault(requireDocuments()),Document$1=(function(){function Document2(collectionName,documentId,apiCall){this.collectionName=collectionName,this.documentId=documentId,this.apiCall=apiCall}return __name(Document2,"Document"),Document2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Document2.prototype.delete=function(options){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath(),options)]})})},Document2.prototype.update=function(partialDocument,options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.patch(this.endpointPath(),partialDocument,options)]})})},Document2.prototype.endpointPath=function(){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.collectionName)).concat(Documents_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.documentId))},Document2})();return Document.Document=Document$1,Document}__name(requireDocument,"requireDocument");var hasRequiredCollection;function requireCollection(){if(hasRequiredCollection)return Collection;hasRequiredCollection=1,Object.defineProperty(Collection,"__esModule",{value:!0});var tslib_1=require$$0,Collections_1=tslib_1.__importDefault(requireCollections()),Documents_1=tslib_1.__importDefault(requireDocuments()),Errors_1=requireErrors(),Overrides_1=tslib_1.__importDefault(requireOverrides()),Override_1=tslib_1.__importDefault(requireOverride()),Synonyms_1=tslib_1.__importDefault(requireSynonyms()),Synonym_1=tslib_1.__importDefault(requireSynonym()),Document_1=requireDocument(),Collection$1=(function(){function Collection2(name,apiCall,configuration){this.name=name,this.apiCall=apiCall,this.configuration=configuration,this.individualDocuments={},this.individualOverrides={},this.individualSynonyms={},this.name=name,this.apiCall=apiCall,this.configuration=configuration,this._documents=new Documents_1.default(this.name,this.apiCall,this.configuration),this._overrides=new Overrides_1.default(this.name,this.apiCall),this._synonyms=new Synonyms_1.default(this.name,this.apiCall)}return __name(Collection2,"Collection"),Collection2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Collection2.prototype.update=function(schema){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.patch(this.endpointPath(),schema)]})})},Collection2.prototype.delete=function(options){return options===void 0&&(options={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath(),options)]})})},Collection2.prototype.exists=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){var e_1;return tslib_1.__generator(this,function(_a7){switch(_a7.label){case 0:return _a7.trys.push([0,2,,3]),[4,this.retrieve()];case 1:return _a7.sent(),[2,!0];case 2:if(e_1=_a7.sent(),e_1 instanceof Errors_1.ObjectNotFound)return[2,!1];throw e_1;case 3:return[2]}})})},Collection2.prototype.documents=function(documentId){return documentId?(this.individualDocuments[documentId]===void 0&&(this.individualDocuments[documentId]=new Document_1.Document(this.name,documentId,this.apiCall)),this.individualDocuments[documentId]):this._documents},Collection2.prototype.overrides=function(overrideId){return overrideId===void 0?this._overrides:(this.individualOverrides[overrideId]===void 0&&(this.individualOverrides[overrideId]=new Override_1.default(this.name,overrideId,this.apiCall)),this.individualOverrides[overrideId])},Collection2.prototype.synonyms=function(synonymId){return synonymId===void 0?this._synonyms:(this.individualSynonyms[synonymId]===void 0&&(this.individualSynonyms[synonymId]=new Synonym_1.default(this.name,synonymId,this.apiCall)),this.individualSynonyms[synonymId])},Collection2.prototype.endpointPath=function(){return"".concat(Collections_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.name))},Collection2})();return Collection.default=Collection$1,Collection}__name(requireCollection,"requireCollection");var Aliases={},hasRequiredAliases;function requireAliases(){if(hasRequiredAliases)return Aliases;hasRequiredAliases=1,Object.defineProperty(Aliases,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/aliases",Aliases$1=(function(){function Aliases2(apiCall){this.apiCall=apiCall}return __name(Aliases2,"Aliases"),Aliases2.prototype.upsert=function(name,mapping){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(name),mapping)]})})},Aliases2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Aliases2.prototype.endpointPath=function(aliasName){return"".concat(Aliases2.RESOURCEPATH,"/").concat(encodeURIComponent(aliasName))},Object.defineProperty(Aliases2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Aliases2})();return Aliases.default=Aliases$1,Aliases}__name(requireAliases,"requireAliases");var Alias={},hasRequiredAlias;function requireAlias(){if(hasRequiredAlias)return Alias;hasRequiredAlias=1,Object.defineProperty(Alias,"__esModule",{value:!0});var tslib_1=require$$0,Aliases_1=tslib_1.__importDefault(requireAliases()),Alias$1=(function(){function Alias2(name,apiCall){this.name=name,this.apiCall=apiCall}return __name(Alias2,"Alias"),Alias2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Alias2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Alias2.prototype.endpointPath=function(){return"".concat(Aliases_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.name))},Alias2})();return Alias.default=Alias$1,Alias}__name(requireAlias,"requireAlias");var Keys={},hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return Keys;hasRequiredKeys=1,Object.defineProperty(Keys,"__esModule",{value:!0});var tslib_1=require$$0,crypto_1=require$$1,Utils_1=requireUtils(),RESOURCEPATH="/keys",Keys$1=(function(){function Keys2(apiCall){this.apiCall=apiCall,this.apiCall=apiCall}return __name(Keys2,"Keys"),Keys2.prototype.create=function(params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.post(Keys2.RESOURCEPATH,params)]})})},Keys2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Keys2.prototype.generateScopedSearchKey=function(searchKey,parameters){var normalizedParams=(0,Utils_1.normalizeArrayableParams)(parameters),paramsJSON=JSON.stringify(normalizedParams),digest=Buffer.from((0,crypto_1.createHmac)("sha256",searchKey).update(paramsJSON).digest("base64")),keyPrefix=searchKey.substr(0,4),rawScopedKey="".concat(digest).concat(keyPrefix).concat(paramsJSON);return Buffer.from(rawScopedKey).toString("base64")},Object.defineProperty(Keys2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Keys2})();return Keys.default=Keys$1,Keys}__name(requireKeys,"requireKeys");var Key={},hasRequiredKey;function requireKey(){if(hasRequiredKey)return Key;hasRequiredKey=1,Object.defineProperty(Key,"__esModule",{value:!0});var tslib_1=require$$0,Keys_1=tslib_1.__importDefault(requireKeys()),Key$1=(function(){function Key2(id,apiCall){this.id=id,this.apiCall=apiCall}return __name(Key2,"Key"),Key2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Key2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Key2.prototype.endpointPath=function(){return"".concat(Keys_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},Key2})();return Key.default=Key$1,Key}__name(requireKey,"requireKey");var Debug={},hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return Debug;hasRequiredDebug=1,Object.defineProperty(Debug,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/debug",Debug$1=(function(){function Debug2(apiCall){this.apiCall=apiCall}return __name(Debug2,"Debug"),Debug2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Debug2})();return Debug.default=Debug$1,Debug}__name(requireDebug,"requireDebug");var Metrics={},hasRequiredMetrics;function requireMetrics(){if(hasRequiredMetrics)return Metrics;hasRequiredMetrics=1,Object.defineProperty(Metrics,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/metrics.json",Metrics$1=(function(){function Metrics2(apiCall){this.apiCall=apiCall}return __name(Metrics2,"Metrics"),Metrics2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Metrics2})();return Metrics.default=Metrics$1,Metrics}__name(requireMetrics,"requireMetrics");var Stats={},hasRequiredStats;function requireStats(){if(hasRequiredStats)return Stats;hasRequiredStats=1,Object.defineProperty(Stats,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/stats.json",Metrics2=(function(){function Metrics3(apiCall){this.apiCall=apiCall}return __name(Metrics3,"Metrics"),Metrics3.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Metrics3})();return Stats.default=Metrics2,Stats}__name(requireStats,"requireStats");var Health={},hasRequiredHealth;function requireHealth(){if(hasRequiredHealth)return Health;hasRequiredHealth=1,Object.defineProperty(Health,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/health",Health$1=(function(){function Health2(apiCall){this.apiCall=apiCall}return __name(Health2,"Health"),Health2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Health2})();return Health.default=Health$1,Health}__name(requireHealth,"requireHealth");var Operations={},hasRequiredOperations;function requireOperations(){if(hasRequiredOperations)return Operations;hasRequiredOperations=1,Object.defineProperty(Operations,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/operations",Operations$1=(function(){function Operations2(apiCall){this.apiCall=apiCall}return __name(Operations2,"Operations"),Operations2.prototype.perform=function(operationName,queryParameters){return queryParameters===void 0&&(queryParameters={}),tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.post("".concat(RESOURCEPATH,"/").concat(operationName),{},queryParameters)]})})},Operations2})();return Operations.default=Operations$1,Operations}__name(requireOperations,"requireOperations");var MultiSearch={},hasRequiredMultiSearch;function requireMultiSearch(){if(hasRequiredMultiSearch)return MultiSearch;hasRequiredMultiSearch=1,Object.defineProperty(MultiSearch,"__esModule",{value:!0});var tslib_1=require$$0,RequestWithCache_1=tslib_1.__importDefault(requireRequestWithCache()),Utils_1=requireUtils(),RESOURCEPATH="/multi_search",MultiSearch$1=(function(){function MultiSearch2(apiCall,configuration,useTextContentType){useTextContentType===void 0&&(useTextContentType=!1),this.apiCall=apiCall,this.configuration=configuration,this.useTextContentType=useTextContentType,this.requestWithCache=new RequestWithCache_1.default}return __name(MultiSearch2,"MultiSearch"),MultiSearch2.prototype.clearCache=function(){this.requestWithCache.clearCache()},MultiSearch2.prototype.perform=function(searchRequests,commonParams,options){return tslib_1.__awaiter(this,void 0,void 0,function(){var params,normalizedSearchRequests,streamConfig,paramsWithoutStream,normalizedQueryParams;return tslib_1.__generator(this,function(_a7){return params=commonParams?tslib_1.__assign({},commonParams):{},this.configuration.useServerSideSearchCache===!0&&(params.use_cache=!0),normalizedSearchRequests={union:searchRequests.union,searches:searchRequests.searches.map(Utils_1.normalizeArrayableParams)},streamConfig=params.streamConfig,paramsWithoutStream=tslib_1.__rest(params,["streamConfig"]),normalizedQueryParams=(0,Utils_1.normalizeArrayableParams)(paramsWithoutStream),[2,this.requestWithCache.perform(this.apiCall,"post",{path:RESOURCEPATH,body:normalizedSearchRequests,queryParams:normalizedQueryParams,headers:this.useTextContentType?{"content-type":"text/plain"}:{},streamConfig,abortSignal:options?.abortSignal,isStreamingRequest:this.isStreamingRequest(params)},options?.cacheSearchResultsForSeconds!==void 0?{cacheResponseForSeconds:options.cacheSearchResultsForSeconds}:void 0)]})})},MultiSearch2.prototype.isStreamingRequest=function(commonParams){return commonParams.streamConfig!==void 0},MultiSearch2})();return MultiSearch.default=MultiSearch$1,MultiSearch}__name(requireMultiSearch,"requireMultiSearch");var Presets={},hasRequiredPresets;function requirePresets(){if(hasRequiredPresets)return Presets;hasRequiredPresets=1,Object.defineProperty(Presets,"__esModule",{value:!0});var tslib_1=require$$0,Utils_1=requireUtils(),RESOURCEPATH="/presets",Presets$1=(function(){function Presets2(apiCall){this.apiCall=apiCall}return __name(Presets2,"Presets"),Presets2.prototype.upsert=function(presetId,params){return tslib_1.__awaiter(this,void 0,void 0,function(){var normalizedParams_1,normalizedParams;return tslib_1.__generator(this,function(_a7){return typeof params.value=="object"&&"searches"in params.value?(normalizedParams_1=params.value.searches.map(function(search){return(0,Utils_1.normalizeArrayableParams)(search)}),[2,this.apiCall.put(this.endpointPath(presetId),{value:{searches:normalizedParams_1}})]):(normalizedParams=(0,Utils_1.normalizeArrayableParams)(params.value),[2,this.apiCall.put(this.endpointPath(presetId),{value:normalizedParams})])})})},Presets2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Presets2.prototype.endpointPath=function(operation){return"".concat(Presets2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(Presets2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Presets2})();return Presets.default=Presets$1,Presets}__name(requirePresets,"requirePresets");var Preset={},hasRequiredPreset;function requirePreset(){if(hasRequiredPreset)return Preset;hasRequiredPreset=1,Object.defineProperty(Preset,"__esModule",{value:!0});var tslib_1=require$$0,Presets_1=tslib_1.__importDefault(requirePresets()),Preset$1=(function(){function Preset2(presetId,apiCall){this.presetId=presetId,this.apiCall=apiCall}return __name(Preset2,"Preset"),Preset2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Preset2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Preset2.prototype.endpointPath=function(){return"".concat(Presets_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.presetId))},Preset2})();return Preset.default=Preset$1,Preset}__name(requirePreset,"requirePreset");var Analytics={},AnalyticsRules={},hasRequiredAnalyticsRules;function requireAnalyticsRules(){if(hasRequiredAnalyticsRules)return AnalyticsRules;hasRequiredAnalyticsRules=1,Object.defineProperty(AnalyticsRules,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/analytics/rules",AnalyticsRules$1=(function(){function AnalyticsRules2(apiCall){this.apiCall=apiCall,this.apiCall=apiCall}return __name(AnalyticsRules2,"AnalyticsRules"),AnalyticsRules2.prototype.upsert=function(name,params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(name),params)]})})},AnalyticsRules2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},AnalyticsRules2.prototype.endpointPath=function(operation){return"".concat(AnalyticsRules2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(AnalyticsRules2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),AnalyticsRules2})();return AnalyticsRules.default=AnalyticsRules$1,AnalyticsRules}__name(requireAnalyticsRules,"requireAnalyticsRules");var AnalyticsRule={},hasRequiredAnalyticsRule;function requireAnalyticsRule(){if(hasRequiredAnalyticsRule)return AnalyticsRule;hasRequiredAnalyticsRule=1,Object.defineProperty(AnalyticsRule,"__esModule",{value:!0});var tslib_1=require$$0,AnalyticsRules_1=tslib_1.__importDefault(requireAnalyticsRules()),AnalyticsRule$1=(function(){function AnalyticsRule2(name,apiCall){this.name=name,this.apiCall=apiCall}return __name(AnalyticsRule2,"AnalyticsRule"),AnalyticsRule2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},AnalyticsRule2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},AnalyticsRule2.prototype.endpointPath=function(){return"".concat(AnalyticsRules_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.name))},AnalyticsRule2})();return AnalyticsRule.default=AnalyticsRule$1,AnalyticsRule}__name(requireAnalyticsRule,"requireAnalyticsRule");var AnalyticsEvents={},hasRequiredAnalyticsEvents;function requireAnalyticsEvents(){if(hasRequiredAnalyticsEvents)return AnalyticsEvents;hasRequiredAnalyticsEvents=1,Object.defineProperty(AnalyticsEvents,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/analytics/events",AnalyticsEvents$1=(function(){function AnalyticsEvents2(apiCall){this.apiCall=apiCall,this.apiCall=apiCall}return __name(AnalyticsEvents2,"AnalyticsEvents"),AnalyticsEvents2.prototype.create=function(params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.post(this.endpointPath(),params)]})})},AnalyticsEvents2.prototype.endpointPath=function(operation){return"".concat(AnalyticsEvents2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(AnalyticsEvents2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),AnalyticsEvents2})();return AnalyticsEvents.default=AnalyticsEvents$1,AnalyticsEvents}__name(requireAnalyticsEvents,"requireAnalyticsEvents");var hasRequiredAnalytics;function requireAnalytics(){if(hasRequiredAnalytics)return Analytics;hasRequiredAnalytics=1,Object.defineProperty(Analytics,"__esModule",{value:!0});var tslib_1=require$$0,AnalyticsRules_1=tslib_1.__importDefault(requireAnalyticsRules()),AnalyticsRule_1=tslib_1.__importDefault(requireAnalyticsRule()),AnalyticsEvents_1=tslib_1.__importDefault(requireAnalyticsEvents()),RESOURCEPATH="/analytics",Analytics$1=(function(){function Analytics2(apiCall){this.apiCall=apiCall,this.individualAnalyticsRules={},this.apiCall=apiCall,this._analyticsRules=new AnalyticsRules_1.default(this.apiCall),this._analyticsEvents=new AnalyticsEvents_1.default(this.apiCall)}return __name(Analytics2,"Analytics"),Analytics2.prototype.rules=function(id){return id===void 0?this._analyticsRules:(this.individualAnalyticsRules[id]===void 0&&(this.individualAnalyticsRules[id]=new AnalyticsRule_1.default(id,this.apiCall)),this.individualAnalyticsRules[id])},Analytics2.prototype.events=function(){return this._analyticsEvents},Object.defineProperty(Analytics2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Analytics2})();return Analytics.default=Analytics$1,Analytics}__name(requireAnalytics,"requireAnalytics");var Stopwords={},hasRequiredStopwords;function requireStopwords(){if(hasRequiredStopwords)return Stopwords;hasRequiredStopwords=1,Object.defineProperty(Stopwords,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/stopwords",Stopwords$1=(function(){function Stopwords2(apiCall){this.apiCall=apiCall}return __name(Stopwords2,"Stopwords"),Stopwords2.prototype.upsert=function(stopwordId,params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(stopwordId),params)]})})},Stopwords2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Stopwords2.prototype.endpointPath=function(operation){return"".concat(Stopwords2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(Stopwords2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Stopwords2})();return Stopwords.default=Stopwords$1,Stopwords}__name(requireStopwords,"requireStopwords");var Stopword={},hasRequiredStopword;function requireStopword(){if(hasRequiredStopword)return Stopword;hasRequiredStopword=1,Object.defineProperty(Stopword,"__esModule",{value:!0});var tslib_1=require$$0,Stopwords_1=tslib_1.__importDefault(requireStopwords()),Stopword$1=(function(){function Stopword2(stopwordId,apiCall){this.stopwordId=stopwordId,this.apiCall=apiCall}return __name(Stopword2,"Stopword"),Stopword2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Stopword2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Stopword2.prototype.endpointPath=function(){return"".concat(Stopwords_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.stopwordId))},Stopword2})();return Stopword.default=Stopword$1,Stopword}__name(requireStopword,"requireStopword");var Conversations={},ConversationModels={},hasRequiredConversationModels;function requireConversationModels(){if(hasRequiredConversationModels)return ConversationModels;hasRequiredConversationModels=1,Object.defineProperty(ConversationModels,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/conversations/models",ConversationModels$1=(function(){function ConversationModels2(apiCall){this.apiCall=apiCall,this.apiCall=apiCall}return __name(ConversationModels2,"ConversationModels"),ConversationModels2.prototype.create=function(params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.post(this.endpointPath(),params)]})})},ConversationModels2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},ConversationModels2.prototype.endpointPath=function(operation){return"".concat(ConversationModels2.RESOURCEPATH).concat(operation===void 0?"":"/"+encodeURIComponent(operation))},Object.defineProperty(ConversationModels2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),ConversationModels2})();return ConversationModels.default=ConversationModels$1,ConversationModels}__name(requireConversationModels,"requireConversationModels");var ConversationModel={},hasRequiredConversationModel;function requireConversationModel(){if(hasRequiredConversationModel)return ConversationModel;hasRequiredConversationModel=1,Object.defineProperty(ConversationModel,"__esModule",{value:!0});var tslib_1=require$$0,ConversationModels_1=tslib_1.__importDefault(requireConversationModels()),ConversationModel$1=(function(){function ConversationModel2(id,apiCall){this.id=id,this.apiCall=apiCall}return __name(ConversationModel2,"ConversationModel"),ConversationModel2.prototype.update=function(params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(),params)]})})},ConversationModel2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},ConversationModel2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},ConversationModel2.prototype.endpointPath=function(){return"".concat(ConversationModels_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},ConversationModel2})();return ConversationModel.default=ConversationModel$1,ConversationModel}__name(requireConversationModel,"requireConversationModel");var hasRequiredConversations;function requireConversations(){if(hasRequiredConversations)return Conversations;hasRequiredConversations=1,Object.defineProperty(Conversations,"__esModule",{value:!0});var tslib_1=require$$0,ConversationModels_1=tslib_1.__importDefault(requireConversationModels()),ConversationModel_1=tslib_1.__importDefault(requireConversationModel()),RESOURCEPATH="/conversations",Conversations$1=(function(){function Conversations2(apiCall){this.apiCall=apiCall,this.individualConversationModels={},this.apiCall=apiCall,this._conversationsModels=new ConversationModels_1.default(this.apiCall)}return __name(Conversations2,"Conversations"),Conversations2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(RESOURCEPATH)]})})},Conversations2.prototype.models=function(id){return id===void 0?this._conversationsModels:(this.individualConversationModels[id]===void 0&&(this.individualConversationModels[id]=new ConversationModel_1.default(id,this.apiCall)),this.individualConversationModels[id])},Object.defineProperty(Conversations2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Conversations2})();return Conversations.default=Conversations$1,Conversations}__name(requireConversations,"requireConversations");var Conversation={},hasRequiredConversation;function requireConversation(){if(hasRequiredConversation)return Conversation;hasRequiredConversation=1,Object.defineProperty(Conversation,"__esModule",{value:!0});var tslib_1=require$$0,Conversations_1=tslib_1.__importDefault(requireConversations()),Conversation$1=(function(){function Conversation2(id,apiCall){this.id=id,this.apiCall=apiCall}return __name(Conversation2,"Conversation"),Conversation2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},Conversation2.prototype.update=function(params){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(),params)]})})},Conversation2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},Conversation2.prototype.endpointPath=function(){return"".concat(Conversations_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},Conversation2})();return Conversation.default=Conversation$1,Conversation}__name(requireConversation,"requireConversation");var Stemming={},StemmingDictionaries={},hasRequiredStemmingDictionaries;function requireStemmingDictionaries(){if(hasRequiredStemmingDictionaries)return StemmingDictionaries;hasRequiredStemmingDictionaries=1,Object.defineProperty(StemmingDictionaries,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/stemming/dictionaries",StemmingDictionaries$1=(function(){function StemmingDictionaries2(apiCall){this.apiCall=apiCall,this.apiCall=apiCall}return __name(StemmingDictionaries2,"StemmingDictionaries"),StemmingDictionaries2.prototype.upsert=function(id,wordRootCombinations){return tslib_1.__awaiter(this,void 0,void 0,function(){var wordRootCombinationsInJSONLFormat,resultsInJSONLFormat;return tslib_1.__generator(this,function(_a7){switch(_a7.label){case 0:return wordRootCombinationsInJSONLFormat=Array.isArray(wordRootCombinations)?wordRootCombinations.map(function(combo){return JSON.stringify(combo)}).join(`
`):wordRootCombinations,[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:{id},bodyParameters:wordRootCombinationsInJSONLFormat,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0})];case 1:return resultsInJSONLFormat=_a7.sent(),[2,Array.isArray(wordRootCombinations)?resultsInJSONLFormat.split(`
`).map(function(line){return JSON.parse(line)}):resultsInJSONLFormat]}})})},StemmingDictionaries2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},StemmingDictionaries2.prototype.endpointPath=function(operation){return operation===void 0?"".concat(StemmingDictionaries2.RESOURCEPATH):"".concat(StemmingDictionaries2.RESOURCEPATH,"/").concat(encodeURIComponent(operation))},Object.defineProperty(StemmingDictionaries2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),StemmingDictionaries2})();return StemmingDictionaries.default=StemmingDictionaries$1,StemmingDictionaries}__name(requireStemmingDictionaries,"requireStemmingDictionaries");var StemmingDictionary={},hasRequiredStemmingDictionary;function requireStemmingDictionary(){if(hasRequiredStemmingDictionary)return StemmingDictionary;hasRequiredStemmingDictionary=1,Object.defineProperty(StemmingDictionary,"__esModule",{value:!0});var tslib_1=require$$0,StemmingDictionaries_1=tslib_1.__importDefault(requireStemmingDictionaries()),StemmingDictionary$1=(function(){function StemmingDictionary2(id,apiCall){this.id=id,this.apiCall=apiCall}return __name(StemmingDictionary2,"StemmingDictionary"),StemmingDictionary2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},StemmingDictionary2.prototype.endpointPath=function(){return"".concat(StemmingDictionaries_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},StemmingDictionary2})();return StemmingDictionary.default=StemmingDictionary$1,StemmingDictionary}__name(requireStemmingDictionary,"requireStemmingDictionary");var hasRequiredStemming;function requireStemming(){if(hasRequiredStemming)return Stemming;hasRequiredStemming=1,Object.defineProperty(Stemming,"__esModule",{value:!0});var tslib_1=require$$0,StemmingDictionaries_1=tslib_1.__importDefault(requireStemmingDictionaries()),StemmingDictionary_1=tslib_1.__importDefault(requireStemmingDictionary()),RESOURCEPATH="/stemming",Stemming$1=(function(){function Stemming2(apiCall){this.apiCall=apiCall,this.individualStemmingDictionaries={},this.apiCall=apiCall,this._stemmingDictionaries=new StemmingDictionaries_1.default(this.apiCall)}return __name(Stemming2,"Stemming"),Stemming2.prototype.dictionaries=function(id){return id===void 0?this._stemmingDictionaries:(this.individualStemmingDictionaries[id]===void 0&&(this.individualStemmingDictionaries[id]=new StemmingDictionary_1.default(id,this.apiCall)),this.individualStemmingDictionaries[id])},Object.defineProperty(Stemming2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),Stemming2})();return Stemming.default=Stemming$1,Stemming}__name(requireStemming,"requireStemming");var NLSearchModels={},hasRequiredNLSearchModels;function requireNLSearchModels(){if(hasRequiredNLSearchModels)return NLSearchModels;hasRequiredNLSearchModels=1,Object.defineProperty(NLSearchModels,"__esModule",{value:!0});var tslib_1=require$$0,RESOURCEPATH="/nl_search_models",NLSearchModels$1=(function(){function NLSearchModels2(apiCall){this.apiCall=apiCall}return __name(NLSearchModels2,"NLSearchModels"),NLSearchModels2.prototype.create=function(schema){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.post(this.endpointPath(),schema)]})})},NLSearchModels2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},NLSearchModels2.prototype.endpointPath=function(){return NLSearchModels2.RESOURCEPATH},Object.defineProperty(NLSearchModels2,"RESOURCEPATH",{get:__name(function(){return RESOURCEPATH},"get"),enumerable:!1,configurable:!0}),NLSearchModels2})();return NLSearchModels.default=NLSearchModels$1,NLSearchModels}__name(requireNLSearchModels,"requireNLSearchModels");var NLSearchModel={},hasRequiredNLSearchModel;function requireNLSearchModel(){if(hasRequiredNLSearchModel)return NLSearchModel;hasRequiredNLSearchModel=1,Object.defineProperty(NLSearchModel,"__esModule",{value:!0});var tslib_1=require$$0,NLSearchModels_1=tslib_1.__importDefault(requireNLSearchModels()),NLSearchModel$1=(function(){function NLSearchModel2(id,apiCall){this.id=id,this.apiCall=apiCall}return __name(NLSearchModel2,"NLSearchModel"),NLSearchModel2.prototype.retrieve=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.get(this.endpointPath())]})})},NLSearchModel2.prototype.update=function(schema){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.put(this.endpointPath(),schema)]})})},NLSearchModel2.prototype.delete=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(_a7){return[2,this.apiCall.delete(this.endpointPath())]})})},NLSearchModel2.prototype.endpointPath=function(){return"".concat(NLSearchModels_1.default.RESOURCEPATH,"/").concat(encodeURIComponent(this.id))},NLSearchModel2})();return NLSearchModel.default=NLSearchModel$1,NLSearchModel}__name(requireNLSearchModel,"requireNLSearchModel");var hasRequiredClient;function requireClient(){if(hasRequiredClient)return Client;hasRequiredClient=1,Object.defineProperty(Client,"__esModule",{value:!0});var tslib_1=require$$0,Configuration_1=tslib_1.__importDefault(requireConfiguration()),ApiCall_1=tslib_1.__importDefault(requireApiCall()),Collections_1=tslib_1.__importDefault(requireCollections()),Collection_1=tslib_1.__importDefault(requireCollection()),Aliases_1=tslib_1.__importDefault(requireAliases()),Alias_1=tslib_1.__importDefault(requireAlias()),Keys_1=tslib_1.__importDefault(requireKeys()),Key_1=tslib_1.__importDefault(requireKey()),Debug_1=tslib_1.__importDefault(requireDebug()),Metrics_1=tslib_1.__importDefault(requireMetrics()),Stats_1=tslib_1.__importDefault(requireStats()),Health_1=tslib_1.__importDefault(requireHealth()),Operations_1=tslib_1.__importDefault(requireOperations()),MultiSearch_1=tslib_1.__importDefault(requireMultiSearch()),Presets_1=tslib_1.__importDefault(requirePresets()),Preset_1=tslib_1.__importDefault(requirePreset()),Analytics_1=tslib_1.__importDefault(requireAnalytics()),Stopwords_1=tslib_1.__importDefault(requireStopwords()),Stopword_1=tslib_1.__importDefault(requireStopword()),Conversations_1=tslib_1.__importDefault(requireConversations()),Conversation_1=tslib_1.__importDefault(requireConversation()),Stemming_1=tslib_1.__importDefault(requireStemming()),NLSearchModels_1=tslib_1.__importDefault(requireNLSearchModels()),NLSearchModel_1=tslib_1.__importDefault(requireNLSearchModel()),Client$1=(function(){function Client2(options){var _a7;options.sendApiKeyAsQueryParam=(_a7=options.sendApiKeyAsQueryParam)!==null&&_a7!==void 0?_a7:!1,this.configuration=new Configuration_1.default(options),this.apiCall=new ApiCall_1.default(this.configuration),this.debug=new Debug_1.default(this.apiCall),this.metrics=new Metrics_1.default(this.apiCall),this.stats=new Stats_1.default(this.apiCall),this.health=new Health_1.default(this.apiCall),this.operations=new Operations_1.default(this.apiCall),this.multiSearch=new MultiSearch_1.default(this.apiCall,this.configuration),this._collections=new Collections_1.default(this.apiCall),this.individualCollections={},this._aliases=new Aliases_1.default(this.apiCall),this.individualAliases={},this._keys=new Keys_1.default(this.apiCall),this.individualKeys={},this._presets=new Presets_1.default(this.apiCall),this.individualPresets={},this._stopwords=new Stopwords_1.default(this.apiCall),this.individualStopwords={},this.analytics=new Analytics_1.default(this.apiCall),this.stemming=new Stemming_1.default(this.apiCall),this._conversations=new Conversations_1.default(this.apiCall),this.individualConversations={},this._nlSearchModels=new NLSearchModels_1.default(this.apiCall),this.individualNLSearchModels={}}return __name(Client2,"Client"),Client2.prototype.collections=function(collectionName){return collectionName===void 0?this._collections:(this.individualCollections[collectionName]===void 0&&(this.individualCollections[collectionName]=new Collection_1.default(collectionName,this.apiCall,this.configuration)),this.individualCollections[collectionName])},Client2.prototype.aliases=function(aliasName){return aliasName===void 0?this._aliases:(this.individualAliases[aliasName]===void 0&&(this.individualAliases[aliasName]=new Alias_1.default(aliasName,this.apiCall)),this.individualAliases[aliasName])},Client2.prototype.keys=function(id){return id===void 0?this._keys:(this.individualKeys[id]===void 0&&(this.individualKeys[id]=new Key_1.default(id,this.apiCall)),this.individualKeys[id])},Client2.prototype.presets=function(id){return id===void 0?this._presets:(this.individualPresets[id]===void 0&&(this.individualPresets[id]=new Preset_1.default(id,this.apiCall)),this.individualPresets[id])},Client2.prototype.stopwords=function(id){return id===void 0?this._stopwords:(this.individualStopwords[id]===void 0&&(this.individualStopwords[id]=new Stopword_1.default(id,this.apiCall)),this.individualStopwords[id])},Client2.prototype.conversations=function(id){return id===void 0?this._conversations:(this.individualConversations[id]===void 0&&(this.individualConversations[id]=new Conversation_1.default(id,this.apiCall)),this.individualConversations[id])},Client2.prototype.nlSearchModels=function(id){return id===void 0?this._nlSearchModels:(this.individualNLSearchModels[id]===void 0&&(this.individualNLSearchModels[id]=new NLSearchModel_1.default(id,this.apiCall)),this.individualNLSearchModels[id])},Client2})();return Client.default=Client$1,Client}__name(requireClient,"requireClient");var SearchClient={},SearchOnlyCollection={},hasRequiredSearchOnlyCollection;function requireSearchOnlyCollection(){if(hasRequiredSearchOnlyCollection)return SearchOnlyCollection;hasRequiredSearchOnlyCollection=1,Object.defineProperty(SearchOnlyCollection,"__esModule",{value:!0}),SearchOnlyCollection.SearchOnlyCollection=void 0;var SearchOnlyDocuments_1=requireSearchOnlyDocuments(),SearchOnlyCollection$1=(function(){function SearchOnlyCollection2(name,apiCall,configuration){this.name=name,this.apiCall=apiCall,this.configuration=configuration,this._documents=new SearchOnlyDocuments_1.SearchOnlyDocuments(this.name,this.apiCall,this.configuration)}return __name(SearchOnlyCollection2,"SearchOnlyCollection"),SearchOnlyCollection2.prototype.documents=function(){return this._documents},SearchOnlyCollection2})();return SearchOnlyCollection.SearchOnlyCollection=SearchOnlyCollection$1,SearchOnlyCollection}__name(requireSearchOnlyCollection,"requireSearchOnlyCollection");var hasRequiredSearchClient;function requireSearchClient(){if(hasRequiredSearchClient)return SearchClient;hasRequiredSearchClient=1,Object.defineProperty(SearchClient,"__esModule",{value:!0});var tslib_1=require$$0,Configuration_1=tslib_1.__importDefault(requireConfiguration()),ApiCall_1=tslib_1.__importDefault(requireApiCall()),MultiSearch_1=tslib_1.__importDefault(requireMultiSearch()),SearchOnlyCollection_1=requireSearchOnlyCollection(),SearchClient$1=(function(){function SearchClient2(options){var _a7;options.sendApiKeyAsQueryParam=(_a7=options.sendApiKeyAsQueryParam)!==null&&_a7!==void 0?_a7:!0,options.sendApiKeyAsQueryParam===!0&&(options.apiKey||"").length>2e3&&(console.warn("[typesense] API Key is longer than 2000 characters which is over the allowed limit, so disabling sending it as a query parameter."),options.sendApiKeyAsQueryParam=!1),this.configuration=new Configuration_1.default(options),this.apiCall=new ApiCall_1.default(this.configuration),this.multiSearch=new MultiSearch_1.default(this.apiCall,this.configuration,!0),this.individualCollections={}}return __name(SearchClient2,"SearchClient"),SearchClient2.prototype.clearCache=function(){this.multiSearch.clearCache(),Object.entries(this.individualCollections).forEach(function(_a7){_a7[0];var collection=_a7[1];collection.documents().clearCache()})},SearchClient2.prototype.collections=function(collectionName){if(collectionName)return this.individualCollections[collectionName]===void 0&&(this.individualCollections[collectionName]=new SearchOnlyCollection_1.SearchOnlyCollection(collectionName,this.apiCall,this.configuration)),this.individualCollections[collectionName];throw new Error("Typesense.SearchClient only supports search operations, so the collectionName that needs to be searched must be specified. Use Typesense.Client if you need to access the collection object.")},SearchClient2})();return SearchClient.default=SearchClient$1,SearchClient}__name(requireSearchClient,"requireSearchClient");var hasRequiredTypesense;function requireTypesense(){if(hasRequiredTypesense)return Typesense;hasRequiredTypesense=1,Object.defineProperty(Typesense,"__esModule",{value:!0}),Typesense.Errors=Typesense.SearchClient=Typesense.Client=void 0;var tslib_1=require$$0,Client_1=tslib_1.__importDefault(requireClient());Typesense.Client=Client_1.default;var SearchClient_1=tslib_1.__importDefault(requireSearchClient());Typesense.SearchClient=SearchClient_1.default;var Errors2=tslib_1.__importStar(requireErrors());return Typesense.Errors=Errors2,Typesense.default={Client:Client_1.default,SearchClient:SearchClient_1.default,Errors:Errors2},Typesense}__name(requireTypesense,"requireTypesense");var TypesenseExports=requireTypesense();const typesenseDataTransform=__name(response=>{const getHighlightValue=__name((item,name)=>item.highlight&&item.highlight[name]?decodeHtml(item.highlight[name]?.value??""):item.document[name]||"","getHighlightValue");return response.map(item=>({title:getHighlightValue(item,"post_title"),summary:getHighlightValue(item,"post_excerpt"),subtitle:item.document.origin_site||"",image:item.document.thumbnail?.replaceAll("/wp/","/"),altText:item.document.thumbnail_alt||"",url:item.document.permalink||""}))},"typesenseDataTransform");function typesenseParamTransform(params,config){let facet_by;if(config?.facetingEnabled&&config?.facets){const enabledFacets=config.facets.filter(f=>f.enabled).map(f=>f.attribute);enabledFacets.length>0&&(facet_by=enabledFacets.join(","))}let filter_by;return params.facetFilters&&Array.isArray(params.facetFilters)&&params.facetFilters.length>0&&(filter_by=params.facetFilters.map(andGroup=>{const andClauses=andGroup.map(filter=>{const[attribute,value]=filter.split(":");if(value&&value.includes(",")){const values=value.split(",").map(v=>`"${v}"`).join(",");return`${attribute}:=[${values}]`}return`${attribute}:=["${value}"]`});return andClauses.length>1?`(${andClauses.join(" && ")})`:andClauses[0]}).join(" && ")),{per_page:params.page_size||20,query_by:params.query_by||"post_title,post_excerpt,content",page:params.page,q:params.query,highlight_full_fields:params.highlight_full_fields||"post_title,post_excerpt",...facet_by?{facet_by}:{},...filter_by?{filter_by}:{},...params.facet_query?{facet_query:params.facet_query}:{}}}__name(typesenseParamTransform,"typesenseParamTransform");const typesenseFacetTransform=__name((facets,config)=>!facets||!config.facets?[]:config.facets.filter(facetConfig=>Array.isArray(facets[facetConfig.attribute])&&facets[facetConfig.attribute].length>0).map(facetConfig=>{const attribute=facetConfig.attribute,values=facets[attribute].map(({value,count})=>({value,count}));return{attribute,label:facetConfig.label,values}}),"typesenseFacetTransform"),TypesenseAdapter=__name(config=>{const client=new TypesenseExports.Client({nodes:[config],apiKey:config.apiKey,connectionTimeoutSeconds:2});return{search:__name(async params=>{const result=await client.collections(config.collectionName).documents().search(typesenseParamTransform(params,config));return{query:params.query||"",totalHits:result.found,totalPages:Math.ceil(result.found/(params.page_size??20)),currentPage:result.page||1,hits:typesenseDataTransform(result.hits??[]),facets:typesenseFacetTransform(result.facet_counts?Object.fromEntries(result.facet_counts.map(f=>[f.field_name,f.counts.map(({value,count})=>({value,count}))])):void 0,config)}},"search")}},"TypesenseAdapter"),SearchFactory=__name(config=>{switch(config.type){case"algolia":return AlgoliaAdapter(config);case"typesense":return TypesenseAdapter(config);default:throw new Error(`Unsupported search type: ${config.type}`)}},"SearchFactory");document.addEventListener("DOMContentLoaded",()=>{const storedFacets=new FacetStorage().loadFacets(),facetFilters=[];if(storedFacets&&Object.keys(storedFacets).length>0){const filtersByAttribute=new Map;Object.keys(storedFacets).forEach(filterStr=>{if(storedFacets[filterStr]){const colonIndex=filterStr.indexOf(":");if(colonIndex>0){const attribute=filterStr.substring(0,colonIndex);filtersByAttribute.has(attribute)||filtersByAttribute.set(attribute,[]),filtersByAttribute.get(attribute)?.push(filterStr)}}}),filtersByAttribute.forEach(filters=>{facetFilters.push(filters)})}const initialParams={...searchParams,facetFilters:facetFilters.length>0?facetFilters:void 0};Runner(HtmlEventFactory(searchConfig),SearchFactory(searchConfig),HtmlRenderFactory(searchParams)).exec(initialParams)});
//# sourceMappingURL=main.BOzEU-w2.js.map
